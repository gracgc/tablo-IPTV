{"version":3,"sources":["components/MenuPanel/SavedGames/GameMenu.jsx","components/MenuPanel/SavedGames/SavedGame.jsx","components/MenuPanel/SavedGames/SavedGames.jsx","components/MenuPanel/Preload/SavedGamesPreload.jsx","components/MenuPanel/SavedGames/SavedGames.module.css","components/MenuPanel/SavedGames/SavedGames_1920.module.css","../node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js","../node_modules/js-file-download/file-download.js"],"names":["GameMenu","props","ClickAwayListener","onClickAway","setShowDeleteButton","onClick","y","showDeleteButton","style","textAlign","fontSize","SavedGame","dispatch","useDispatch","confirm","useConfirm","width","window","innerWidth","useState","setTabloGameNumber","gameNumber","a","description","title","confirmationText","cancellationText","putGameNumber","deleteGameForever","isCurrentGame","deleteGame","className","c1920","savedGamesMenu","c","navButton","savedGame","gameName","gameType","nameAndType","dateOfCreation","tabloChose","navButtonGameNumber","e","display","color","gameIsGoing","adminChose","deleteButton","to","editButton","logAPI","exportLog","then","txt","FileDownload","axios","require","SavedGames","history","useHistory","useEffect","socket","on","setGameNumberAC","games","setSavedGamesAC","currentGame","savedGames","find","g","lastGameNumber","length","Math","max","apply","map","sg","createFastGame","gameAPI","createNewGame","responseGame","teamsAPI","createTeams","responseTeam","fastGameAlert","r","post","isHomeLogo","isGuestsLogo","isHomeGif","isGuestsGif","resultCode","push","searchGame","useRef","searchWord","setSearchWord","menuTitle","iptv","menu","search","searchInput","type","ref","onChange","current","value","toLowerCase","curentGameMenu","navbar","indexOf","devicesButton","createGameButton","createFastGameButton","SavedGamesPreload","isFetchingGame","useSelector","state","gamesPage","isFetching","isFetchingApp","appPage","getSavedGames","getGameNumber","Loading","module","exports","mapEventPropToEvent","eventProp","substring","children","_props$disableReactTr","disableReactTree","_props$mouseEvent","mouseEvent","_props$touchEvent","touchEvent","movedRef","React","nodeRef","mountedRef","syntheticEventRef","handleOwnRef","instance","ReactDOM","handleRef","useForkRef","handleClickAway","useEventCallback","event","insideReactTree","document","documentElement","clientWidth","clientX","clientHeight","clientY","clickedRootScrollbar","insideDOM","composedPath","ownerDocument","contains","target","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","doc","handleTouchMove","addEventListener","removeEventListener","mappedMouseEvent","data","filename","mime","bom","blob","Blob","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","createElement","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL"],"mappings":"4PAwBeA,EApBE,SAACC,GAYd,OACI,kBAACC,EAAA,EAAD,CAAmBC,YANC,WACpBF,EAAMG,qBAAoB,KAMtB,yBAAKC,QAXQ,SAACC,GAClBL,EAAMG,qBAAqBH,EAAMM,mBAUDC,MAAO,CAACC,UAAW,SAAUC,SAAU,SAAnE,Y,yBCsFGC,EA3FG,SAACV,GAEf,IAAIW,EAAWC,cAETC,EAAUC,cAEZC,EAAQC,OAAOC,WANM,EASuBC,oBAAS,GAThC,mBASlBZ,EATkB,KASAH,EATA,KAWnBgB,EAAkB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACjBR,EAAQ,CACVS,YAAa,kaACbC,MAAO,2DACPC,iBAAkB,uCAClBC,iBAAkB,qDALC,OAOvBd,EAASe,YAAcN,IAPA,2CAAH,sDAUlBO,EAAiB,uCAAG,WAAOP,EAAYQ,GAAnB,SAAAP,EAAA,sEAChBR,EAAQ,CACVS,YAAa,gkBACbC,MAAO,2DACPC,iBAAkB,uCAClBC,iBAAkB,qDALA,OAOtBd,EAASkB,YAAWT,IAChBQ,GACAjB,EAASe,YAAc,IATL,2CAAH,wDAoBvB,OACI,yBAAKI,UAAqB,OAAVf,EAAiBgB,IAAMC,eAAiBC,IAAED,gBACtD,yBAAKF,UAAqB,OAAVf,EAAiBgB,IAAMG,UAAYD,IAAEC,WAChDlC,EAAMmC,UAAUC,SADrB,WACkCpC,EAAMmC,UAAUE,SAC9C,yBAAKP,UAAqB,OAAVf,EAAiBgB,IAAMO,YAAcL,IAAEK,aAClDtC,EAAMmC,UAAUI,gBAErB,yBAAKT,UAAqB,OAAVf,EAAiBgB,IAAMS,WAAaP,IAAEO,YAEjDxC,EAAMmC,UAAUf,aAAepB,EAAMoB,WAChC,yBAAKU,UAAqB,OAAVf,EAAiBgB,IAAMU,oBAAsBR,IAAEQ,oBAC1DrC,QACI,SAACsC,GAAD,OAAOvB,EAAmBnB,EAAMmC,UAAUf,cAFnD,+HAMA,yBAAKb,MAAO,CAACoC,QAAS,gBACpB,yBAAKpC,MAAO,CAACqC,MAAO,YAApB,6GAGA,yBAAKd,UAAqB,OAAVf,EAAiBgB,IAAMc,YAAcZ,IAAEY,aAAvD,WAGR,yBAAKf,UAAqB,OAAVf,EAAiBgB,IAAMe,WAAab,IAAEa,aAGtD,kBAAC,EAAD,CAAUxC,iBAAkBA,EAAkBH,oBAAqBA,MAI1EG,GACD,6BACI,yBAAKwB,UAAqB,OAAVf,EAAiBgB,IAAMgB,aAAed,IAAEc,aACnD3C,QAAS,SAACsC,GAAD,OAAOf,EAAkB3B,EAAMmC,UAAUf,WAAYpB,EAAMmC,UAAUf,aAAepB,EAAMoB,cADxG,8CAIA,kBAAC,IAAD,CAAS4B,GAAE,sBAAiBhD,EAAMmC,UAAUf,aACxC,yBAAKU,UAAqB,OAAVf,EAAiBgB,IAAMkB,WAAahB,IAAEgB,YAAtD,mFAIJ,yBAAKnB,UAAqB,OAAVf,EAAiBgB,IAAMkB,WAAahB,IAAEgB,WAAY7C,QAAS,SAAAsC,GA/CnFQ,IAAOC,UAAUnD,EAAMmC,UAAUf,YAAYgC,MAAK,SAAAC,GAC9CC,IAAaD,EAAD,qDAAiBrD,EAAMmC,UAAUC,SAAjC,YAA6CpC,EAAMmC,UAAUf,WAA7D,cA8CR,iD,wBCjFVmC,EAAQC,EAAQ,KAuIPC,EApII,SAACzD,GAGhB,IAAIe,EAAQC,OAAOC,WAEbN,EAAWC,cAEXC,EAAUC,cAEZ4C,EAAUC,cAGdC,qBAAU,WAINC,IAAOC,GAAP,iBAA2B,SAAA1C,GACnBT,EAASoD,YAAgB3C,OAIjCyC,IAAOC,GAAP,iBAA2B,SAAAE,GACvBrD,EAASsD,YAAgBD,SAG9B,IAGH,IAAIE,EAAclE,EAAMmE,WAAWC,MAAK,SAAAC,GAAC,OAAIA,EAAEjD,aAAepB,EAAMoB,cAGhEkD,EAA6C,IAA5BtE,EAAMmE,WAAWI,OAAeC,KAAKC,IAAIC,MAAMF,KAAMxE,EAAMmE,WAAWQ,KAAI,SAAAC,GAAE,OAAIA,EAAGxD,eAAe,EAGnHyD,EAAc,uCAAG,8BAAAxD,EAAA,sEACQyD,IAAQC,cAAc,sEAAgBT,EAAiB,EAAG,iHADlE,cACbU,EADa,gBAEQC,IAASC,YAC9BZ,EAAiB,EACjB,+CACA,QACA,GACA,+CACA,QACA,IATa,cAEba,EAFa,yBAWV,CAACH,eAAcG,iBAXL,2CAAH,qDAcZC,EAAa,uCAAG,WAAOhE,GAAP,eAAAC,EAAA,sEACZR,EAAQ,CACVS,YAAa,smBACbC,MAAO,2DACPC,iBAAkB,uCAClBC,iBAAkB,qDALJ,uBAQJoD,IARI,OAQdQ,EARc,OAUlB9B,EAAM+B,KAAN,kCAAsChB,EAAiB,GAAK,CACxDiB,YAAY,EACZC,cAAc,EACdC,WAAW,EACXC,aAAa,IAGiB,IAA9BL,EAAEL,aAAaW,YAAkD,IAA9BN,EAAEF,aAAaQ,aAClDhF,EAASe,YAAc4C,EAAiB,IACxCZ,EAAQkC,KAAK,gBAAkBtB,EAAiB,KAnBlC,2CAAH,sDAwBfuB,EAAaC,iBAAO,IAxEE,EA0EQ5E,mBAAS,IA1EjB,mBA0ErB6E,EA1EqB,KA0ETC,EA1ES,KAiF1B,OAEI,yBAAKlE,UAAqB,OAAVf,EAAiBgB,IAAMoC,WAAalC,IAAEkC,YAC1C,0BAAMrC,UAAqB,OAAVf,EAAiBgB,IAAMkE,UAAYhE,IAAEgE,WAAtD,2DACA,yBAAKnE,UAAqB,OAAVf,EAAiBgB,IAAMmE,KAAOjE,IAAEiE,MAAhD,eAAkE,6BAAlE,eAEA,yBAAKpE,UAAqB,OAAVf,EAAiBgB,IAAMoE,KAAOlE,IAAEkE,MAC5C,yBAAKrE,UAAqB,OAAVf,EAAiBgB,IAAMqE,OAASnE,IAAEmE,QAAlD,iGACuB,2BAAOtE,UAAqB,OAAVf,EAAiBgB,IAAMsE,YAAcpE,IAAEoE,YAClDC,KAAK,OACLC,IAAKV,EAAYW,SAAU,SAAC9D,GAd1EsD,EAAcH,EAAWY,QAAQC,MAAMC,mBAgBtBzC,GACD,yBAAKpC,UAAqB,OAAVf,EAAiBgB,IAAMmC,YAAcjC,IAAEiC,aAAvD,wEACmBA,EAAY9B,SAD/B,WAC4C8B,EAAY7B,SACpD,kBAAC,IAAD,CAASW,GAAI,eAAiBkB,EAAY9C,YACtC,yBAAKU,UAAWG,IAAE2E,gBAAlB,mCAEJ,kBAAC,IAAD,CAAS5D,GAAI,eAAiBkB,EAAY9C,YACtC,yBAAKU,UAAWG,IAAE2E,gBAAlB,mEAGR,yBAAK9E,UAAqB,OAAVf,EAAiBgB,IAAM8E,OAAS5E,IAAE4E,QACjB,IAA5B7G,EAAMmE,WAAWI,QAAgBvE,EAAMmE,WAAWQ,KAAI,SAAAC,GAAE,OAAwD,IAAnDA,EAAGxC,SAASuE,cAAcG,QAAQf,IAC5F,kBAAC,EAAD,CAAW3E,WAAYpB,EAAMoB,WAAYe,UAAWyC,EAAIT,WAAYnE,EAAMmE,kBAMtF,kBAAC,IAAD,CAASnB,GAAG,YACR,yBAAKlB,UAAqB,OAAVf,EAAiBgB,IAAMgF,cAAgB9E,IAAE8E,eAAzD,wHAKJ,kBAAC,IAAD,CAAS/D,GAAG,eACR,yBAAKlB,UAAqB,OAAVf,EAAiBgB,IAAMiF,iBAAmB/E,IAAE+E,kBAA5D,uGAMJ,yBAAKlF,UAAqB,OAAVf,EAAiBgB,IAAMkF,qBAAuBhF,IAAEgF,qBAC3D7G,QAAS,SAACsC,GAAD,OAAO0C,MADrB,yEC1FL8B,UAzCW,SAAClH,GAEvB,IAAMW,EAAWC,cAEXuG,EAAiBC,aACnB,SAAAC,GAAK,OAAIA,EAAMC,UAAUC,cAGvBC,EAAgBJ,aAClB,SAAAC,GAAK,OAAIA,EAAMI,QAAQF,cAGrBpD,EAAaiD,aACf,SAAAC,GAAK,OAAIA,EAAMC,UAAUnD,cAGzB/C,EAAagG,aACb,SAAAC,GAAK,OAAIA,EAAMI,QAAQrG,cAa3B,OATAwC,qBAAU,WAENjD,EAAS+G,eACT/G,EAASgH,iBAEV,IAMC,6BACyB,IAAnBR,GAA0C,IAAlBK,EACpB,kBAACI,EAAA,EAAD,MACAzD,GAAc/C,GAAc,kBAAC,EAAD,CAAY+C,WAAYA,EAAY/C,WAAYA,O,oBC5C9FyG,EAAOC,QAAU,CAAC,WAAa,+BAA+B,OAAS,2BAA2B,YAAc,gCAAgC,YAAc,gCAAgC,eAAiB,mCAAmC,KAAO,yBAAyB,OAAS,2BAA2B,eAAiB,mCAAmC,UAAY,8BAA8B,iBAAmB,qCAAqC,cAAgB,kCAAkC,qBAAuB,yCAAyC,UAAY,8BAA8B,KAAO,yBAAyB,YAAc,gCAAgC,eAAiB,mCAAmC,oBAAsB,wCAAwC,WAAa,+BAA+B,WAAa,+BAA+B,YAAc,gCAAgC,MAAQ,0BAA0B,aAAe,iCAAiC,WAAa,iC,oBCA7gCD,EAAOC,QAAU,CAAC,WAAa,oCAAoC,OAAS,gCAAgC,YAAc,qCAAqC,YAAc,qCAAqC,KAAO,8BAA8B,OAAS,gCAAgC,eAAiB,wCAAwC,UAAY,mCAAmC,iBAAmB,0CAA0C,cAAgB,uCAAuC,qBAAuB,8CAA8C,UAAY,mCAAmC,KAAO,8BAA8B,YAAc,qCAAqC,eAAiB,wCAAwC,oBAAsB,6CAA6C,WAAa,oCAAoC,WAAa,oCAAoC,YAAc,qCAAqC,MAAQ,+BAA+B,aAAe,sCAAsC,WAAa,sC,iCCDlkC,mDAQA,SAASC,EAAoBC,GAC3B,OAAOA,EAAUC,UAAU,GAAGtB,cA4KjB1G,IAhKf,SAA2BD,GACzB,IAAIkI,EAAWlI,EAAMkI,SACjBC,EAAwBnI,EAAMoI,iBAC9BA,OAA6C,IAA1BD,GAA2CA,EAC9DE,EAAoBrI,EAAMsI,WAC1BA,OAAmC,IAAtBD,EAA+B,UAAYA,EACxDnI,EAAcF,EAAME,YACpBqI,EAAoBvI,EAAMwI,WAC1BA,OAAmC,IAAtBD,EAA+B,aAAeA,EAC3DE,EAAWC,UAAa,GACxBC,EAAUD,SAAa,MACvBE,EAAaF,UAAa,GAC1BG,EAAoBH,UAAa,GACrCA,aAAgB,WAEd,OADAE,EAAWnC,SAAU,EACd,WACLmC,EAAWnC,SAAU,KAEtB,IAEH,IAAIqC,EAAeJ,eAAkB,SAAUK,GAE7CJ,EAAQlC,QAAUuC,cAAqBD,KACtC,IACCE,EAAYC,YAAWhB,EAAS3B,IAAKuC,GAOrCK,EAAkBC,aAAiB,SAAUC,GAG/C,IAAIC,EAAkBT,EAAkBpC,QAKxC,GAJAoC,EAAkBpC,SAAU,EAIvBmC,EAAWnC,SAAYkC,EAAQlC,UAhDxC,SAA8B4C,GAC5B,OAAOE,SAASC,gBAAgBC,YAAcJ,EAAMK,SAAWH,SAASC,gBAAgBG,aAAeN,EAAMO,QA+C5DC,CAAqBR,GAKpE,GAAIZ,EAAShC,QACXgC,EAAShC,SAAU,MADrB,CAKA,IAAIqD,EAEJ,GAAIT,EAAMU,aACRD,EAAYT,EAAMU,eAAejD,QAAQ6B,EAAQlC,UAAY,OAI7DqD,GADUE,YAAcrB,EAAQlC,SACf+C,gBAAgBS,SAASZ,EAAMa,SAAWvB,EAAQlC,QAAQwD,SAASZ,EAAMa,QAGvFJ,IAAc1B,GAAqBkB,GACtCpJ,EAAYmJ,OAIZc,EAAwB,SAA+BC,GACzD,OAAO,SAAUf,GACfR,EAAkBpC,SAAU,EAC5B,IAAI4D,EAAuBnC,EAASlI,MAAMoK,GAEtCC,GACFA,EAAqBhB,KAKvBiB,EAAgB,CAClB/D,IAAK0C,GA2CP,OAxCmB,IAAfT,IACF8B,EAAc9B,GAAc2B,EAAsB3B,IAGpDE,aAAgB,WACd,IAAmB,IAAfF,EAAsB,CACxB,IAAI+B,EAAmBxC,EAAoBS,GACvCgC,EAAMR,YAAcrB,EAAQlC,SAE5BgE,EAAkB,WACpBhC,EAAShC,SAAU,GAKrB,OAFA+D,EAAIE,iBAAiBH,EAAkBpB,GACvCqB,EAAIE,iBAAiB,YAAaD,GAC3B,WACLD,EAAIG,oBAAoBJ,EAAkBpB,GAC1CqB,EAAIG,oBAAoB,YAAaF,OAKxC,CAACtB,EAAiBX,KAEF,IAAfF,IACFgC,EAAchC,GAAc6B,EAAsB7B,IAGpDI,aAAgB,WACd,IAAmB,IAAfJ,EAAsB,CACxB,IAAIsC,EAAmB7C,EAAoBO,GACvCkC,EAAMR,YAAcrB,EAAQlC,SAEhC,OADA+D,EAAIE,iBAAiBE,EAAkBzB,GAChC,WACLqB,EAAIG,oBAAoBC,EAAkBzB,OAK7C,CAACA,EAAiBb,IACDI,gBAAoBA,WAAgB,KAAmBA,eAAmBR,EAAUoC,M,kBC5I1GzC,EAAOC,QAAU,SAAS+C,EAAMC,EAAUC,EAAMC,GAC5C,IACIC,EAAO,IAAIC,KADgB,qBAARF,EAAuB,CAACA,EAAKH,GAAQ,CAACA,GAC/B,CAACvE,KAAMyE,GAAQ,6BAC7C,GAA2C,qBAAhC/J,OAAOmK,UAAUC,WAKxBpK,OAAOmK,UAAUC,WAAWH,EAAMH,OAEjC,CACD,IAAIO,EAAWrK,OAAOsK,KAAOtK,OAAOsK,IAAIC,gBAAmBvK,OAAOsK,IAAIC,gBAAgBN,GAAQjK,OAAOwK,UAAUD,gBAAgBN,GAC3HQ,EAAWlC,SAASmC,cAAc,KACtCD,EAASlL,MAAMoC,QAAU,OACzB8I,EAASE,KAAON,EAChBI,EAASG,aAAa,WAAYd,GAMD,qBAAtBW,EAASI,UAChBJ,EAASG,aAAa,SAAU,UAGpCrC,SAASuC,KAAKC,YAAYN,GAC1BA,EAASO,QAGTC,YAAW,WACP1C,SAASuC,KAAKI,YAAYT,GAC1BzK,OAAOsK,IAAIa,gBAAgBd,KAC5B","file":"static/js/11.78de0bd8.chunk.js","sourcesContent":["import React from 'react'\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\r\n\r\n\r\nconst GameMenu = (props) => {\r\n\r\n\r\n    const openGameMenu = (y) => {\r\n        props.setShowDeleteButton(!props.showDeleteButton)\r\n    };\r\n\r\n    const handleClickAway = () => {\r\n        props.setShowDeleteButton(false)\r\n    };\r\n\r\n\r\n    return (\r\n        <ClickAwayListener onClickAway={handleClickAway}>\r\n            <div onClick={openGameMenu} style={{textAlign: 'center', fontSize: '120%'}}>⚙</div>\r\n        </ClickAwayListener>\r\n    )\r\n};\r\n\r\n\r\nexport default GameMenu;\r\n","import React, {useState} from \"react\";\r\nimport c from './SavedGames.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {putGameNumber} from \"../../../redux/app_reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport c1920 from \"./SavedGames_1920.module.css\";\r\nimport {useConfirm} from \"material-ui-confirm\";\r\nimport {deleteGame} from \"../../../redux/games_reducer\";\r\nimport GameMenu from \"./GameMenu\";\r\nimport {logAPI} from \"../../../api/api\";\r\nimport FileDownload from \"js-file-download\";\r\n\r\n\r\nconst SavedGame = (props) => {\r\n\r\n    let dispatch = useDispatch();\r\n\r\n    const confirm = useConfirm();\r\n\r\n    let width = window.innerWidth;\r\n\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    const setTabloGameNumber = async (gameNumber) => {\r\n        await confirm({\r\n            description: 'Сейчас на табло идет другая игра. Это действие может помешать игровому процессу.',\r\n            title: 'Вы уверены?',\r\n            confirmationText: 'Хорошо',\r\n            cancellationText: 'Отменить'\r\n        });\r\n        dispatch(putGameNumber(gameNumber))\r\n    };\r\n\r\n    const deleteGameForever = async (gameNumber, isCurrentGame) => {\r\n        await confirm({\r\n            description: 'Эта игра будет безвозвратно удалена. (Не рекомендуется делать это во время того, как какая-либо игра идет сейчас)',\r\n            title: 'Вы уверены?',\r\n            confirmationText: 'Хорошо',\r\n            cancellationText: 'Отменить'\r\n        });\r\n        dispatch(deleteGame(gameNumber));\r\n        if (isCurrentGame) {\r\n            dispatch(putGameNumber(0))\r\n        }\r\n    };\r\n\r\n    const exportLog = () => {\r\n        logAPI.exportLog(props.savedGame.gameNumber).then(txt => {\r\n            FileDownload(txt, `События_${props.savedGame.gameName}_${props.savedGame.gameNumber}.txt`)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.savedGamesMenu : c.savedGamesMenu}>\r\n            <div className={width === 1920 ? c1920.navButton : c.navButton}>\r\n                {props.savedGame.gameName} — {props.savedGame.gameType}\r\n                <div className={width === 1920 ? c1920.nameAndType : c.nameAndType}>\r\n                    {props.savedGame.dateOfCreation}\r\n                </div>\r\n                <div className={width === 1920 ? c1920.tabloChose : c.tabloChose}>\r\n\r\n                    {props.savedGame.gameNumber !== props.gameNumber\r\n                        ? <div className={width === 1920 ? c1920.navButtonGameNumber : c.navButtonGameNumber}\r\n                               onClick={\r\n                                   (e) => setTabloGameNumber(props.savedGame.gameNumber)\r\n                               }>\r\n                            Поставить игру на табло\r\n                        </div>\r\n                        : <div style={{display: \"inline-flex\"}}>\r\n                            <div style={{color: \"#116327\"}}>\r\n                                Эта игра сейчас идет\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.gameIsGoing : c.gameIsGoing}>●</div>\r\n                        </div>\r\n                    }\r\n                    <div className={width === 1920 ? c1920.adminChose : c.adminChose}>\r\n\r\n                    </div>\r\n                    <GameMenu showDeleteButton={showDeleteButton} setShowDeleteButton={setShowDeleteButton}/>\r\n\r\n                </div>\r\n            </div>\r\n            {showDeleteButton &&\r\n            <div>\r\n                <div className={width === 1920 ? c1920.deleteButton : c.deleteButton}\r\n                     onClick={(e) => deleteGameForever(props.savedGame.gameNumber, props.savedGame.gameNumber === props.gameNumber)}>\r\n                    Удалить\r\n                </div>\r\n                <NavLink to={`/customGame/${props.savedGame.gameNumber}`}>\r\n                    <div className={width === 1920 ? c1920.editButton : c.editButton}>\r\n                        Редактировать\r\n                    </div>\r\n                </NavLink>\r\n                <div className={width === 1920 ? c1920.editButton : c.editButton} onClick={e => exportLog()}>\r\n                    События\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SavedGame;\r\n","import React, {useEffect, useRef, useState} from \"react\";\r\nimport c from './SavedGames.module.css'\r\nimport c1920 from './SavedGames_1920.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {createNewGame, getSavedGames, setSavedGamesAC} from \"../../../redux/games_reducer\";\r\nimport SavedGame from \"./SavedGame\";\r\nimport {getGameNumber, putGameNumber, setGameNumberAC} from \"../../../redux/app_reducer\";\r\nimport socket from \"../../../socket/socket\";\r\nimport {useConfirm} from \"material-ui-confirm\";\r\nimport {useHistory} from \"react-router\";\r\nimport {gameAPI, teamsAPI} from \"../../../api/api\";\r\nimport Loading from \"../../Loading/Loading\";\r\n\r\nconst axios = require('axios');\r\n\r\n\r\nconst SavedGames = (props) => {\r\n\r\n\r\n    let width = window.innerWidth;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const confirm = useConfirm();\r\n\r\n    let history = useHistory();\r\n\r\n\r\n    useEffect(() => {\r\n        // dispatch(getSavedGames());\r\n        // dispatch(getGameNumber())\r\n\r\n        socket.on(`getGameNumber`, gameNumber => {\r\n                dispatch(setGameNumberAC(gameNumber));\r\n            }\r\n        );\r\n\r\n        socket.on(`getSavedGames`, games => {\r\n            dispatch(setSavedGamesAC(games));\r\n        })\r\n\r\n    }, []);\r\n\r\n\r\n    let currentGame = props.savedGames.find(g => g.gameNumber === props.gameNumber)\r\n\r\n\r\n    let lastGameNumber = props.savedGames.length !== 0 ? Math.max.apply(Math, props.savedGames.map(sg => sg.gameNumber)) : 0;\r\n\r\n\r\n    let createFastGame = async () => {\r\n        let responseGame = await gameAPI.createNewGame('Быстрая игра', lastGameNumber + 1, 'Классический хоккей');\r\n        let responseTeam = await teamsAPI.createTeams(\r\n            lastGameNumber + 1,\r\n            'Команда 1',\r\n            'white',\r\n            [],\r\n            'Команда 2',\r\n            'white',\r\n            []);\r\n\r\n        return {responseGame, responseTeam}\r\n    }\r\n\r\n    const fastGameAlert = async (gameNumber) => {\r\n        await confirm({\r\n            description: 'После создания быстрой игры вы будете сразу перенаправлены в административную панель и на табло поставится эта игра.',\r\n            title: 'Вы уверены?',\r\n            confirmationText: 'Хорошо',\r\n            cancellationText: 'Отменить'\r\n        });\r\n\r\n        let r = await createFastGame()\r\n\r\n        axios.post(`/api/teams/fastGameLogo/${lastGameNumber + 1}`, {\r\n            isHomeLogo: true,\r\n            isGuestsLogo: true,\r\n            isHomeGif: true,\r\n            isGuestsGif: true\r\n        })\r\n\r\n        if (r.responseGame.resultCode === 0 && r.responseTeam.resultCode === 0) {\r\n            dispatch(putGameNumber(lastGameNumber + 1))\r\n            history.push('/adminPanel/' + (lastGameNumber + 1));\r\n        }\r\n\r\n    };\r\n\r\n    let searchGame = useRef('')\r\n\r\n    let [searchWord, setSearchWord] = useState('')\r\n\r\n    let search = () => {\r\n        setSearchWord(searchGame.current.value.toLowerCase())\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className={width === 1920 ? c1920.savedGames : c.savedGames}>\r\n                    <span className={width === 1920 ? c1920.menuTitle : c.menuTitle}>Список игр</span>\r\n                    <div className={width === 1920 ? c1920.iptv : c.iptv}>IPTV PORTAL <br/> TABLO beta</div>\r\n\r\n                    <div className={width === 1920 ? c1920.menu : c.menu}>\r\n                        <div className={width === 1920 ? c1920.search : c.search}>\r\n                            Поиск по названию: <input className={width === 1920 ? c1920.searchInput : c.searchInput}\r\n                                                      type=\"text\"\r\n                                                      ref={searchGame} onChange={(e) => search()}/>\r\n                        </div>\r\n                        {currentGame &&\r\n                        <div className={width === 1920 ? c1920.currentGame : c.currentGame}>\r\n                            Текущая игра: {currentGame.gameName} — {currentGame.gameType}\r\n                            <NavLink to={'/adminPanel/' + currentGame.gameNumber}>\r\n                                <div className={c.curentGameMenu}>Админ</div>\r\n                            </NavLink>\r\n                            <NavLink to={'/videoAdmin/' + currentGame.gameNumber}>\r\n                                <div className={c.curentGameMenu}>Видео-админ</div>\r\n                            </NavLink>\r\n                        </div>}\r\n                        <div className={width === 1920 ? c1920.navbar : c.navbar}>\r\n                            {props.savedGames.length !== 0 && props.savedGames.map(sg => (sg.gameName.toLowerCase().indexOf(searchWord) !== -1) &&\r\n                                <SavedGame gameNumber={props.gameNumber} savedGame={sg} savedGames={props.savedGames}/>)}\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                    <NavLink to=\"/devices\">\r\n                        <div className={width === 1920 ? c1920.devicesButton : c.devicesButton}>\r\n                            Назначения устройств\r\n                        </div>\r\n                    </NavLink>\r\n\r\n                    <NavLink to=\"/createGame\">\r\n                        <div className={width === 1920 ? c1920.createGameButton : c.createGameButton}>\r\n                            Создать новую игру\r\n                        </div>\r\n                    </NavLink>\r\n\r\n\r\n                    <div className={width === 1920 ? c1920.createFastGameButton : c.createFastGameButton}\r\n                         onClick={(e) => fastGameAlert()}>\r\n                        Быстрая игра\r\n                    </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SavedGames;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport SavedGames from \"../SavedGames/SavedGames\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Loading from \"../../Loading/Loading\";\r\nimport {fetchingResetAC, getSavedGames, isFetchingAC, setSavedGamesAC} from \"../../../redux/games_reducer\";\r\nimport {getGameNumber, setGameNumberAC} from \"../../../redux/app_reducer\";\r\nimport socket from \"../../../socket/socket\";\r\n\r\n\r\n\r\nconst SavedGamesPreload = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const isFetchingGame = useSelector(\r\n        state => state.gamesPage.isFetching\r\n    );\r\n\r\n    const isFetchingApp = useSelector(\r\n        state => state.appPage.isFetching\r\n    );\r\n\r\n    const savedGames = useSelector(\r\n        state => state.gamesPage.savedGames\r\n    );\r\n\r\n    let gameNumber = useSelector(\r\n        state => state.appPage.gameNumber\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(getSavedGames());\r\n        dispatch(getGameNumber())\r\n\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            {(isFetchingGame !== 0 || isFetchingApp !== 0)\r\n                ? <Loading/>\r\n                : savedGames && gameNumber && <SavedGames savedGames={savedGames} gameNumber={gameNumber}/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SavedGamesPreload;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"savedGames\":\"SavedGames_savedGames__3w3p4\",\"search\":\"SavedGames_search__1QUOA\",\"searchInput\":\"SavedGames_searchInput__1ODVU\",\"currentGame\":\"SavedGames_currentGame__2KIlD\",\"curentGameMenu\":\"SavedGames_curentGameMenu__Vsozf\",\"menu\":\"SavedGames_menu__3EfSj\",\"navbar\":\"SavedGames_navbar__yUiFM\",\"savedGamesMenu\":\"SavedGames_savedGamesMenu__2h2I7\",\"navButton\":\"SavedGames_navButton__3HoJL\",\"createGameButton\":\"SavedGames_createGameButton__chnyf\",\"devicesButton\":\"SavedGames_devicesButton__2p1az\",\"createFastGameButton\":\"SavedGames_createFastGameButton__1Hv74\",\"menuTitle\":\"SavedGames_menuTitle__3OzZS\",\"iptv\":\"SavedGames_iptv__2OQgN\",\"nameAndType\":\"SavedGames_nameAndType__3xV8v\",\"navButtonAdmin\":\"SavedGames_navButtonAdmin__2CFE1\",\"navButtonGameNumber\":\"SavedGames_navButtonGameNumber__3hzdj\",\"tabloChose\":\"SavedGames_tabloChose__1FTFK\",\"adminChose\":\"SavedGames_adminChose__vZ7T_\",\"gameIsGoing\":\"SavedGames_gameIsGoing__2yjYe\",\"blink\":\"SavedGames_blink__3IhDe\",\"deleteButton\":\"SavedGames_deleteButton__36S4V\",\"editButton\":\"SavedGames_editButton__PxPrs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"savedGames\":\"SavedGames_1920_savedGames__29zQr\",\"search\":\"SavedGames_1920_search__4WMqv\",\"searchInput\":\"SavedGames_1920_searchInput__2zOnt\",\"currentGame\":\"SavedGames_1920_currentGame__3XevQ\",\"menu\":\"SavedGames_1920_menu__YVUqu\",\"navbar\":\"SavedGames_1920_navbar__3cvN1\",\"savedGamesMenu\":\"SavedGames_1920_savedGamesMenu__35Key\",\"navButton\":\"SavedGames_1920_navButton__3LlVF\",\"createGameButton\":\"SavedGames_1920_createGameButton__2IXXJ\",\"devicesButton\":\"SavedGames_1920_devicesButton__3PFmt\",\"createFastGameButton\":\"SavedGames_1920_createFastGameButton__25LYc\",\"menuTitle\":\"SavedGames_1920_menuTitle__Nu8eK\",\"iptv\":\"SavedGames_1920_iptv__2qljU\",\"nameAndType\":\"SavedGames_1920_nameAndType__Vp0v_\",\"navButtonAdmin\":\"SavedGames_1920_navButtonAdmin__1c97n\",\"navButtonGameNumber\":\"SavedGames_1920_navButtonGameNumber__1Vh5i\",\"tabloChose\":\"SavedGames_1920_tabloChose__wIiNg\",\"adminChose\":\"SavedGames_1920_adminChose__1-_2p\",\"gameIsGoing\":\"SavedGames_1920_gameIsGoing__1pj2g\",\"blink\":\"SavedGames_1920_blink__2ql_L\",\"deleteButton\":\"SavedGames_1920_deleteButton__CZzot\",\"editButton\":\"SavedGames_1920_editButton__3Afm-\"};","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport { elementAcceptingRef, exactProp } from '@material-ui/utils';\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event) {\n  return document.documentElement.clientWidth < event.clientX || document.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n */\n\n\nfunction ClickAwayListener(props) {\n  var children = props.children,\n      _props$disableReactTr = props.disableReactTree,\n      disableReactTree = _props$disableReactTr === void 0 ? false : _props$disableReactTr,\n      _props$mouseEvent = props.mouseEvent,\n      mouseEvent = _props$mouseEvent === void 0 ? 'onClick' : _props$mouseEvent,\n      onClickAway = props.onClickAway,\n      _props$touchEvent = props.touchEvent,\n      touchEvent = _props$touchEvent === void 0 ? 'onTouchEnd' : _props$touchEvent;\n  var movedRef = React.useRef(false);\n  var nodeRef = React.useRef(null);\n  var mountedRef = React.useRef(false);\n  var syntheticEventRef = React.useRef(false);\n  React.useEffect(function () {\n    mountedRef.current = true;\n    return function () {\n      mountedRef.current = false;\n    };\n  }, []); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    nodeRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviours like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  var handleClickAway = useEventCallback(function (event) {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    var insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false; // 1. IE 11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!mountedRef.current || !nodeRef.current || clickedRootScrollbar(event)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    var insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      // TODO v6 remove dead logic https://caniuse.com/#search=composedPath.\n      var doc = ownerDocument(nodeRef.current);\n      insideDOM = !doc.documentElement.contains(event.target) || nodeRef.current.contains(event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  var createHandleSynthetic = function createHandleSynthetic(handlerName) {\n    return function (event) {\n      syntheticEventRef.current = true;\n      var childrenPropsHandler = children.props[handlerName];\n\n      if (childrenPropsHandler) {\n        childrenPropsHandler(event);\n      }\n    };\n  };\n\n  var childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(function () {\n    if (touchEvent !== false) {\n      var mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      var doc = ownerDocument(nodeRef.current);\n\n      var handleTouchMove = function handleTouchMove() {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return function () {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(function () {\n    if (mouseEvent !== false) {\n      var mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      var doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return function () {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.cloneElement(children, childrenProps));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? ClickAwayListener.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The wrapped element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * If `true`, the React tree is ignored and only the DOM tree is considered.\n   * This prop changes how portaled elements are handled.\n   */\n  disableReactTree: PropTypes.bool,\n\n  /**\n   * The mouse event to listen to. You can disable the listener by providing `false`.\n   */\n  mouseEvent: PropTypes.oneOf(['onClick', 'onMouseDown', 'onMouseUp', false]),\n\n  /**\n   * Callback fired when a \"click away\" event is detected.\n   */\n  onClickAway: PropTypes.func.isRequired,\n\n  /**\n   * The touch event to listen to. You can disable the listener by providing `false`.\n   */\n  touchEvent: PropTypes.oneOf(['onTouchEnd', 'onTouchStart', false])\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n"],"sourceRoot":""}