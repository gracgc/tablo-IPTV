{"version":3,"sources":["components/MenuPanel/Lag/LagClient.jsx"],"names":["LagClient","props","player","window","TvipPlayer","stb","history","useHistory","useEffect","pause","time","Date","now","i","document","getElementById","innerHTML","Math","random","devicesAPI","putDeviceLag","socket","id","round","then","r","resultCode","push","continuePlay","unpause","style","display","width","height","backgroundColor","margin","color","fontSize"],"mappings":"0GAAA,0DA8DeA,UAvDG,SAACC,GAGf,IAAIC,EAASC,OAAOC,WAEhBC,EAAMF,OAAOE,IAGbC,EAAUC,cAkCd,OAhCAC,qBAAU,WAGFH,GACAA,EAAII,QAGJP,GACAA,EAAOO,QAIX,IADA,IAAIC,EAAOC,KAAKC,MACPC,EAAI,EAAGA,EAAI,IAAOA,IACvBC,SAASC,eAAe,KAAKC,WAAaC,KAAKC,SAGnDC,IAAWC,aAAaC,IAAOC,GAAIL,KAAKM,OAAOZ,KAAKC,MAAQF,GAAQ,MAAOc,MAAK,SAAAC,GACvD,IAAjBA,EAAEC,aACFpB,EAAQqB,KAAK,gBACTtB,GACAA,EAAIuB,eAGJ1B,GACAA,EAAO2B,gBAKpB,IAIC,6BACI,yBAAKP,GAAG,IAAIQ,MAAO,CAACC,QAAS,UAG7B,yBAAKD,MAAO,CAACE,MAAO,QAASC,OAAQ,QAASC,gBAAiB,QAASC,OAAQ,SAAUC,MAAO,QAASC,SAAU,KAApH","file":"static/js/16.d8e5083c.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {devicesAPI} from \"../../../api/api\";\r\nimport {useSelector} from \"react-redux\";\r\nimport socket from \"../../../socket/socket\";\r\n\r\n\r\nconst LagClient = (props) => {\r\n\r\n\r\n    let player = window.TvipPlayer;\r\n\r\n    let stb = window.stb;\r\n\r\n\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        if (stb) {\r\n            stb.pause()\r\n        }\r\n\r\n        if (player) {\r\n            player.pause();\r\n        }\r\n\r\n        let time = Date.now()\r\n        for (var i = 0; i < 10000; i++) {\r\n            document.getElementById(\"a\").innerHTML += Math.random()\r\n        }\r\n\r\n        devicesAPI.putDeviceLag(socket.id, Math.round((Date.now() - time) / 1000)).then(r => {\r\n            if (r.resultCode === 0) {\r\n                history.push('/tabloClient');\r\n                if (stb) {\r\n                    stb.continuePlay()\r\n                }\r\n\r\n                if (player) {\r\n                    player.unpause();\r\n                }\r\n            }\r\n        })\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div id='a' style={{display: \"none\"}}>\r\n\r\n            </div>\r\n            <div style={{width: '100vw', height: '100vh', backgroundColor: 'black', margin: 'auto 0', color: 'green', fontSize: 50}}>\r\n                КАЛИБРОВКА\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default LagClient;"],"sourceRoot":""}