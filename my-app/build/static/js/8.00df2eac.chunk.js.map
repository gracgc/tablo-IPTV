{"version":3,"sources":["utils/validators.js","components/ForAdmin/VideoAdmin/Cameras/Cameras.module.css","components/ForAdmin/VideoAdmin/Cameras/Cameras_1920.module.css","components/ForAdmin/VideoAdmin/Videos/VideosMP4.module.css","components/ForAdmin/VideoAdmin/Videos/VideosMP4_1920.module.css","components/ForAdmin/VideoAdmin/Editor/Editor.module.css","components/ForAdmin/VideoAdmin/Editor/Editor_1920.module.css","components/ForAdmin/VideoAdmin/VideoAdmin.module.css","components/ForAdmin/VideoAdmin/Presets/Presets.module.css","components/ForAdmin/VideoAdmin/Presets/Presets_1920.module.css","components/ForAdmin/VideoAdmin/Presets/Presets.jsx","components/ForAdmin/VideoAdmin/Cameras/Camera.jsx","components/ForAdmin/VideoAdmin/Cameras/Cameras.jsx","components/ForAdmin/VideoAdmin/Videos/VideoMP4.jsx","components/ForAdmin/VideoAdmin/Videos/VideosMP4.jsx","components/ForAdmin/VideoAdmin/Editor/EditorLine.jsx","components/ForAdmin/VideoAdmin/Editor/Editor.jsx","components/ForAdmin/VideoAdmin/VideoAdmin.jsx"],"names":["required","value","requiredShort","maxTime20","maxTime60","module","exports","compose","withRouter","props","width","window","innerWidth","gameNumber","match","params","dispatch","useDispatch","preset","useSelector","state","gamesPage","gameData","useEffect","getGame","socket","on","setPresetAC","className","c1920","presets","c","title","name","map","p","style","background","color","onClick","e","gameAPI","putPreset","useState","showDeleteButton","setShowDeleteButton","position","onMouseOver","onMouseLeave","camera","border","currentVideoStream","videoURL","v","backgroundColor","setCurrentVideo","videoName","deleteVideo","index","videosAPI","paginatorForIndex","AddCameraReduxForm","reduxForm","form","addCameraForm","exitForm","setShowAddCameraForm","onSubmit","handleSubmit","cameraForm","Field","placeholder","validate","component","Input","addCameraButton","paginatorN","setPaginatorN","videos","videosPage","getVideos","getCurrentVideo","setVideosDataAC","changePaginatorN","symbol","currentVideo","putCurrentVideo","showAddCameraForm","camerasBlock","display","addButton","length","paginator","opacity","cameras","slice","formData","undefined","addCameraURL","addVideo","addCameraName","reset","video","onMouseDown","setIsMouseDownOverDrop","onMouseUp","type","data","src","deleteVideoMP4","toString","AddVideoReduxForm","addVideoForm","setShowAddVideoForm","videoForm","Button","variant","accept","hidden","onChange","setVideoMP4","target","files","addVideoButton","videoMP4","marginLeft","fontSize","videosMP4","showAddVideoForm","getVideosMP4","setVideosMP4DataAC","sameName","find","videoFormData","FormData","append","axios","headers","uploadVideo","stopSubmit","isDroppable","isMouseDownOverDrop","types","onDrop","firstKey","Object","keys","d","allVideos","splice","addVideoEditor","videoEditor","editorData","duration","scale","margin","deletedN","timedif","deleteVideoFromEditor","lag","localStorage","getItem","tupit","setTupit","id","dif","difPage","isRunningServer","setIsRunningServer","startTime","setStartTime","timeDif","setTimeDif","timeMem","setTimeMem","n","getVideoTime","Date","now","then","r","serverPing","Math","round","dateClient","timeSyncServer","dateServer","setDifAC","setPingAC","timeData","isRunning","runningTime","getVideoEditor","time","interval","setInterval","clearInterval","setCurrentVideoEditorDataAC","setVideosEditorAC","setCurrentVideoDataAC","reduce","sum","current","totalDuration","deletedDuration","editorStyle","msWidth","currentDuration","seconds","floor","minutes","duration0","duration1","putVideoTimeStatus","clearEditorVideos","resetCurrentVideo","putCurrentVideoEditor","clearVideo","resultCode","editor","editorPlayer","editorLine","height","push","droppableVideoFullWidth","playerButtons","playerButton","nextEditorVideos","playerTime","videoAdmin","videoAdmin__info","Info","videoAdmin__editor","TabloEdit","videoAdmin__presetsAndVideos","videoAdmin__camera"],"mappings":"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","file":"static/js/8.00df2eac.chunk.js","sourcesContent":["export const required = (value) => {\r\n    if (value) return undefined;\r\n    return \"Обязательное поле\";\r\n};\r\n\r\nexport const requiredShort = (value) => {\r\n    if (value) return undefined;\r\n    return \"!\";\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n\r\nexport const maxTime20 = (value) => {\r\n    if (value <= 20 && 0 <= value) return undefined;\r\n    return \"Только от 0 до 20\";\r\n};\r\n\r\nexport const maxTime60 = (value) => {\r\n    if (value < 60 && 0 <= value) return undefined;\r\n    return \"Только от 0 до 59\";\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"Cameras_camerasBlock__2pgVn\",\"title\":\"Cameras_title__1XGgT\",\"cameras\":\"Cameras_cameras__kIwtJ\",\"camera\":\"Cameras_camera__3oIX4\",\"currentCamera\":\"Cameras_currentCamera__24CcZ\",\"addButton\":\"Cameras_addButton__2I70h\",\"cameraForm\":\"Cameras_cameraForm__2gSXI\",\"addCameraButton\":\"Cameras_addCameraButton__2DJLz\",\"paginator\":\"Cameras_paginator__3_1l-\",\"addCameraForm\":\"Cameras_addCameraForm__zx6Yn\",\"exitForm\":\"Cameras_exitForm__JDmYW\",\"deleteVideo\":\"Cameras_deleteVideo__2kMh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"Cameras_1920_camerasBlock__1tccB\",\"title\":\"Cameras_1920_title__3O0Qy\",\"cameras\":\"Cameras_1920_cameras__2PIqd\",\"camera\":\"Cameras_1920_camera__1Gwon\",\"addButton\":\"Cameras_1920_addButton__CKaqz\",\"cameraForm\":\"Cameras_1920_cameraForm__1w_53\",\"addCameraButton\":\"Cameras_1920_addCameraButton__2VEf8\",\"paginator\":\"Cameras_1920_paginator__1gH1d\",\"addCameraForm\":\"Cameras_1920_addCameraForm__1yTXy\",\"exitForm\":\"Cameras_1920_exitForm__31CNh\",\"deleteVideo\":\"Cameras_1920_deleteVideo__3OuuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"VideosMP4_camerasBlock__330Vd\",\"title\":\"VideosMP4_title__2J-ne\",\"videos\":\"VideosMP4_videos__1ygh1\",\"video\":\"VideosMP4_video__1U21O\",\"paginator\":\"VideosMP4_paginator__EgiVl\",\"addButton\":\"VideosMP4_addButton__1LRCT\",\"videoForm\":\"VideosMP4_videoForm__2-Uf4\",\"addVideoButton\":\"VideosMP4_addVideoButton__34I3Y\",\"addVideoForm\":\"VideosMP4_addVideoForm__32ebl\",\"exitForm\":\"VideosMP4_exitForm__3WpAn\",\"deleteVideo\":\"VideosMP4_deleteVideo__1BxtS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"VideosMP4_1920_camerasBlock__3GHzn\",\"title\":\"VideosMP4_1920_title__2DHvt\",\"videos\":\"VideosMP4_1920_videos__3VhAQ\",\"video\":\"VideosMP4_1920_video__2J1D0\",\"paginator\":\"VideosMP4_1920_paginator__1ckAf\",\"addButton\":\"VideosMP4_1920_addButton__eu81S\",\"videoForm\":\"VideosMP4_1920_videoForm__3DSQP\",\"addVideoButton\":\"VideosMP4_1920_addVideoButton__cNymj\",\"addVideoForm\":\"VideosMP4_1920_addVideoForm__jKKv-\",\"exitForm\":\"VideosMP4_1920_exitForm__2XHHN\",\"deleteVideo\":\"VideosMP4_1920_deleteVideo__2QhI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__HJ9wU\",\"title\":\"Editor_title__InMIf\",\"video\":\"Editor_video__4CSRM\",\"videoTag\":\"Editor_videoTag__2nRqN\",\"editorPlayer\":\"Editor_editorPlayer__25FRl\",\"editorLine\":\"Editor_editorLine__2wMP2\",\"droppableVideo\":\"Editor_droppableVideo__2ZDWH\",\"droppableVideoFullWidth\":\"Editor_droppableVideoFullWidth__2Cb_A\",\"playerButton\":\"Editor_playerButton__3MvU5\",\"playerTime\":\"Editor_playerTime__3nRXz\",\"playerButtons\":\"Editor_playerButtons__2G7Ig\",\"exitForm\":\"Editor_exitForm__PvNKf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_1920_editor__qJp_a\",\"title\":\"Editor_1920_title__1Ocit\",\"video\":\"Editor_1920_video__2Q_Lc\",\"videoTag\":\"Editor_1920_videoTag__2idbJ\",\"editorPlayer\":\"Editor_1920_editorPlayer__2e4oY\",\"editorLine\":\"Editor_1920_editorLine__1UviJ\",\"droppableVideo\":\"Editor_1920_droppableVideo__ss-Wg\",\"droppableVideoFullWidth\":\"Editor_1920_droppableVideoFullWidth__LFSKB\",\"playerButton\":\"Editor_1920_playerButton__2vR0e\",\"playerTime\":\"Editor_1920_playerTime___1QHB\",\"playerButtons\":\"Editor_1920_playerButtons__2B49Q\",\"exitForm\":\"Editor_1920_exitForm__3CMj_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoAdmin\":\"VideoAdmin_videoAdmin__1ylGD\",\"videoAdmin__info\":\"VideoAdmin_videoAdmin__info__3w85C\",\"videoAdmin__editor\":\"VideoAdmin_videoAdmin__editor__2A9Hh\",\"videoAdmin__camera\":\"VideoAdmin_videoAdmin__camera__kyl1B\",\"videoAdmin__presetsAndVideos\":\"VideoAdmin_videoAdmin__presetsAndVideos__2-JFf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"presets\":\"Presets_presets__DP0U1\",\"title\":\"Presets_title__37s0A\",\"preset\":\"Presets_preset__3NYsX\",\"currentPreset\":\"Presets_currentPreset__1DTHe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"presets\":\"Presets_1920_presets__2JMFp\",\"title\":\"Presets_1920_title__3D0d7\",\"preset\":\"Presets_1920_preset__1xRdH\"};","import React, {useEffect} from 'react'\r\nimport c from './Presets.module.css'\r\nimport c1920 from './Presets_1920.module.css';\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {gameAPI} from \"../../../../api/api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getGame, setPresetAC} from \"../../../../redux/games_reducer\";\r\nimport socket from \"../../../../socket/socket\";\r\n\r\n\r\nconst Presets = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const preset = useSelector(\r\n        (state => state.gamesPage.gameData.preset)\r\n    );\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getGame(gameNumber));\r\n\r\n\r\n        socket.on(`getPreset${gameNumber}`, preset => {\r\n            dispatch(setPresetAC(preset))\r\n        });\r\n    }, [])\r\n\r\n\r\n    let presets = [\r\n        {preset: 1, name: 'Только табло'},\r\n        {preset: 2, name: 'Табло и видео'},\r\n        {preset: 3, name: 'Только видео'},\r\n        {preset: 4, name: 'Заглушка'},\r\n        {preset: 5, name: 'Игроки 1'},\r\n        {preset: 6, name: 'Игроки 2'},\r\n        // {preset: 7, name: 'Сводка матча'},\r\n    ]\r\n\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.presets : c.presets}>\r\n            <div className={width === 1920 ? c1920.title : c.title}>Пресеты</div>\r\n            {presets.map(p => <div className={width === 1920 ? c1920.preset : c.preset} style={{\r\n                background: p.preset === preset && '#435373',\r\n                color: p.preset === preset && '#a4e2ed'\r\n            }}\r\n                                   onClick={(e) => {\r\n                                       gameAPI.putPreset(gameNumber, p.preset)\r\n                                   }}>\r\n                {p.name}\r\n            </div>)}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Presets);","import React, {useEffect, useState} from 'react'\r\nimport c from './Cameras.module.css'\r\nimport c1920 from './Cameras_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\n\r\n\r\nconst Camera = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    let deleteVideoFromList = (index) => {\r\n        videosAPI.deleteVideo(index + props.paginatorForIndex)\r\n    };\r\n\r\n\r\n    return (\r\n        <div style={{position: 'relative'}}\r\n             onMouseOver={(e) => setShowDeleteButton(true)}\r\n             onMouseLeave={(e) => setShowDeleteButton(false)}>\r\n            <div className={width === 1920 ? c1920.camera : c.camera}\r\n                 style={{border: props.currentVideoStream.videoURL === props.v.videoURL && 'forestgreen 4px solid',\r\n                     backgroundColor: props.currentVideoStream.videoURL === props.v.videoURL     && 'darkcyan'}}\r\n                 onClick={(e) => props.setCurrentVideo(props.v)}>\r\n                <div>\r\n                    {/*<ReactHlsPlayer*/}\r\n                    {/*    url={props.v.videoURL}*/}\r\n                    {/*    autoplay={false}*/}\r\n                    {/*    muted={true}*/}\r\n                    {/*    controls={false}*/}\r\n                    {/*    width={170}*/}\r\n                    {/*/>*/}\r\n                </div>\r\n\r\n                <div>\r\n                    {props.v.videoName}\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            {showDeleteButton && props.currentVideoStream.videoURL !== props.v.videoURL &&\r\n            <div className={width === 1920 ? c1920.deleteVideo : c.deleteVideo} onClick={e => deleteVideoFromList(props.index)}>\r\n                ✘\r\n            </div>\r\n            }\r\n        </div>\r\n\r\n\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Camera);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './Cameras.module.css'\r\nimport c1920 from './Cameras_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setPresetAC} from \"../../../../redux/games_reducer\";\r\nimport socket from \"../../../../socket/socket\";\r\nimport {getCurrentVideo, getVideos, setVideosDataAC} from \"../../../../redux/videos_reducer\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {Input} from \"../../../../common/FormsControls/FormsControls\";\r\nimport {requiredShort} from \"../../../../utils/validators\";\r\nimport ReactHlsPlayer from \"react-hls-player\";\r\nimport Camera from \"./Camera\";\r\n\r\n\r\nconst AddCamera = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.addCameraForm : c.addCameraForm}>\r\n            <div className={width === 1920 ? c1920.exitForm : c.exitForm} onClick={e => props.setShowAddCameraForm(false)}>\r\n                ✘\r\n            </div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div className={width === 1920 ? c1920.cameraForm : c.cameraForm}>\r\n                    <Field placeholder={'Название потока'} name={'addCameraName'}\r\n                           validate={[requiredShort]}\r\n                           component={Input}/>\r\n                    <Field placeholder={'URL потока'} name={'addCameraURL'}\r\n                           validate={[requiredShort]}\r\n                           component={Input}/>\r\n                    <button className={width === 1920 ? c1920.addCameraButton : c.addCameraButton}>\r\n                        Добавить\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddCameraReduxForm = reduxForm({form: 'addCamera'})(AddCamera);\r\n\r\nconst Cameras = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [paginatorN, setPaginatorN] = useState(0);\r\n\r\n    const paginatorScale = 4;\r\n\r\n\r\n    let videos = useSelector(\r\n        (state => state.videosPage.videos)\r\n    );\r\n\r\n    let currentVideoStream = useSelector(\r\n        (state => state.videosPage.currentVideoStream)\r\n    );\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getVideos());\r\n        dispatch(getCurrentVideo());\r\n\r\n        socket.on(`getPreset${gameNumber}`, preset => {\r\n            dispatch(setPresetAC(preset))\r\n        });\r\n\r\n\r\n        socket.on(`getVideos`, videos => {\r\n                dispatch(setVideosDataAC(videos))\r\n            }\r\n        );\r\n\r\n\r\n    }, []);\r\n\r\n    let changePaginatorN = (symbol) => {\r\n        if (symbol === '+')\r\n            setPaginatorN(paginatorN + 1);\r\n        if (symbol === '-') {\r\n            setPaginatorN(paginatorN - 1)\r\n        }\r\n    };\r\n\r\n    let setCurrentVideo = (currentVideo) => {\r\n        videosAPI.putCurrentVideo(gameNumber, currentVideo, false);\r\n    };\r\n\r\n    const onSubmit = (formData) => {\r\n        if (formData.addCameraURL !== undefined) {\r\n            videosAPI.addVideo(\r\n                formData.addCameraName,\r\n                formData.addCameraURL\r\n            );\r\n            dispatch(reset('addCamera'));\r\n            setShowAddCameraForm(false)\r\n        }\r\n    };\r\n\r\n    const [showAddCameraForm, setShowAddCameraForm] = useState(false);\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.camerasBlock : c.camerasBlock}>\r\n            <div className={width === 1920 ? c1920.title : c.title}>Камеры</div>\r\n            <div style={{display: 'inline-flex'}}>\r\n                <div className={width === 1920 ? c1920.addButton : c.addButton} onClick={e => setShowAddCameraForm(true)}>\r\n                    +\r\n                </div>\r\n                {videos.length !== 0 && <div style={{display: 'inline-flex'}}>\r\n                    {paginatorN > 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('-')\r\n                        }}>\r\n                            ←\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            ←\r\n                        </div>\r\n                    }\r\n                    <div className={width === 1920 ? c1920.cameras : c.cameras}>\r\n                        {videos.slice(paginatorScale * paginatorN, paginatorScale + paginatorScale * paginatorN)\r\n                            .map((v, index) =>\r\n                                <Camera v={v} index={index} paginatorForIndex={paginatorN * paginatorScale} currentVideoStream={currentVideoStream} setCurrentVideo={setCurrentVideo}/>\r\n                            )}\r\n                    </div>\r\n                    {videos.slice(paginatorScale * (paginatorN + 1), paginatorScale + paginatorScale * (paginatorN + 1)).length !== 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('+')\r\n                        }}>\r\n                            →\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            →\r\n                        </div>}\r\n                </div>}\r\n\r\n            </div>\r\n\r\n            {showAddCameraForm && <AddCameraReduxForm onSubmit={onSubmit} setShowAddCameraForm={setShowAddCameraForm}/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Cameras);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './VideosMP4.module.css'\r\nimport c1920 from './VideosMP4_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Draggable} from \"react-drag-and-drop\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\n\r\n\r\nconst VideoMP4 = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    let deleteVideoFromList = (index, videoName) => {\r\n        videosAPI.deleteVideoMP4(index + props.paginatorForIndex, videoName.toString())\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <div className={width === 1920 ? c1920.video : c.video}\r\n             onMouseOver={(e) => setShowDeleteButton(true)}\r\n             onMouseLeave={(e) => setShowDeleteButton(false)}>\r\n            <div onMouseDown={e => props.setIsMouseDownOverDrop(true)}\r\n                 onMouseUp={e => props.setIsMouseDownOverDrop(false)}>\r\n                <Draggable type=\"video\" data={props.v.videoName}>\r\n                    <video src={props.v.videoURL} width={width === 1920 ? 240 : 170}></video>\r\n                </Draggable>\r\n            </div>\r\n\r\n            <div>\r\n                {props.v.videoName}\r\n            </div>\r\n\r\n            {showDeleteButton &&\r\n            <div className={width === 1920 ? c1920.deleteVideo : c.deleteVideo} onClick={e => deleteVideoFromList(props.index, props.v.videoName)}>\r\n                ✘\r\n            </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideoMP4);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './VideosMP4.module.css'\r\nimport c1920 from './VideosMP4_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport socket from \"../../../../socket/socket\";\r\nimport {\r\n    getVideosMP4,\r\n    setVideosMP4DataAC\r\n} from \"../../../../redux/videos_reducer\";\r\nimport {Field, reduxForm, reset, stopSubmit} from \"redux-form\";\r\nimport {Input} from \"../../../../common/FormsControls/FormsControls\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as axios from \"axios\";\r\nimport {maxTime60, requiredShort} from \"../../../../utils/validators\";\r\nimport VideoMP4 from \"./VideoMP4\";\r\n\r\n\r\nconst AddVideoMP4 = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    // props.videos.find(v => v.videoName === value)\r\n\r\n\r\n    return (\r\n\r\n        <div className={width === 1920 ? c1920.addVideoForm : c.addVideoForm}>\r\n            <div className={width === 1920 ? c1920.exitForm : c.exitForm}\r\n                 onClick={e => props.setShowAddVideoForm(false)}>\r\n                ✘\r\n            </div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div className={width === 1920 ? c1920.videoForm : c.videoForm}>\r\n                    <Field placeholder={'Название видео'} name={'videoName'}\r\n                           validate={[requiredShort]}\r\n                           component={Input}/>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        component=\"label\"\r\n                    >\r\n                        Загрузить видео\r\n                        <input\r\n                            name=\"videoMP4\"\r\n                            type=\"file\"\r\n                            accept=\".mp4\"\r\n                            hidden\r\n                            onChange={(e) => props.setVideoMP4(e.target.files[0])}\r\n                        />\r\n                    </Button>\r\n                </div>\r\n                <button className={width === 1920 ? c1920.addVideoButton : c.addVideoButton}>\r\n                    Добавить\r\n                </button>\r\n                {!props.videoMP4 ? <span style={{marginLeft: 10, color: 'red', fontSize: 20}}>Видео не загружено</span>\r\n                    : <span style={{marginLeft: 10, color: 'green', fontSize: 20}}>Видео загружено</span>}\r\n            </form>\r\n        </div>\r\n\r\n\r\n    )\r\n};\r\n\r\nconst AddVideoReduxForm = reduxForm({form: 'addVideo'})(AddVideoMP4);\r\n\r\nconst VideosMP4 = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [paginatorN, setPaginatorN] = useState(0);\r\n\r\n    const paginatorScale = 4;\r\n\r\n\r\n    const videos = useSelector(\r\n        (state => state.videosPage.videosMP4)\r\n    );\r\n\r\n    let [videoMP4, setVideoMP4] = useState();\r\n\r\n    const [showAddVideoForm, setShowAddVideoForm] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getVideosMP4());\r\n\r\n        socket.on(`getVideosMP4`, videos => {\r\n            dispatch(setVideosMP4DataAC(videos));\r\n        });\r\n\r\n    }, []);\r\n\r\n\r\n    let uploadVideo = (videoName) => {\r\n\r\n        let videoFormData = new FormData;\r\n\r\n        videoFormData.append('file', videoMP4);\r\n\r\n\r\n        axios.post(`/api/videos/mp4/${videoName}`, videoFormData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n\r\n    };\r\n\r\n    let changePaginatorN = (symbol) => {\r\n        if (symbol === '+')\r\n            setPaginatorN(paginatorN + 1);\r\n        if (symbol === '-') {\r\n            setPaginatorN(paginatorN - 1)\r\n        }\r\n    };\r\n\r\n    const onSubmit = (formData) => {\r\n        let sameName = videos.find(v => v.videoName === formData.videoName)\r\n        if (videoMP4 && !sameName) {\r\n            uploadVideo(formData.videoName);\r\n            dispatch(reset('addVideo'));\r\n            setShowAddVideoForm(false)\r\n        } else {\r\n            dispatch(stopSubmit('addVideo', {videoName: 'Такое название уже есть'}))\r\n        }\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.camerasBlock : c.camerasBlock}>\r\n            <div className={width === 1920 ? c1920.title : c.title}>Видеоматериалы</div>\r\n            <div style={{display: 'inline-flex'}}>\r\n                <div className={width === 1920 ? c1920.addButton : c.addButton}\r\n                     onClick={e => setShowAddVideoForm(true)}>\r\n                    +\r\n                </div>\r\n                {videos.length !== 0 && <div style={{display: 'inline-flex'}}>\r\n                    {paginatorN > 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('-')\r\n                        }}>\r\n                            ←\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            ←\r\n                        </div>\r\n                    }\r\n                    <div className={width === 1920 ? c1920.videos : c.videos}>\r\n                        {videos.slice(paginatorScale * paginatorN, paginatorScale + paginatorScale * paginatorN)\r\n                            .map((v, index) =>\r\n                                <VideoMP4 v={v} index={index} setIsMouseDownOverDrop={props.setIsMouseDownOverDrop}\r\n                                          paginatorForIndex={paginatorN * paginatorScale}/>\r\n                            )}\r\n                    </div>\r\n                    {videos.slice(paginatorScale * (paginatorN + 1), paginatorScale + paginatorScale * (paginatorN + 1)).length !== 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('+')\r\n                        }}>\r\n                            →\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            →\r\n                        </div>}\r\n                </div>}\r\n            </div>\r\n            {showAddVideoForm && <AddVideoReduxForm onSubmit={onSubmit} setShowAddVideoForm={setShowAddVideoForm}\r\n                                                    videoMP4={videoMP4} setVideoMP4={setVideoMP4} videos={videos}/>}\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideosMP4);","import React, {useState} from 'react'\r\nimport c from './Editor.module.css'\r\nimport c1920 from './Editor_1920.module.css';\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\nimport {Droppable} from 'react-drag-and-drop'\r\n\r\n\r\nconst EditorLine = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    let deleteVideoFromEditor = (index) => {\r\n        videosAPI.deleteVideoFromEditor(gameNumber, index, false)\r\n    };\r\n\r\n    let isDroppable = props.isMouseDownOverDrop\r\n\r\n    let onDrop = (data) => {\r\n\r\n        if (isDroppable) {\r\n\r\n            let key = Object.keys(data);\r\n\r\n            let firstKey = key[0];\r\n\r\n            let video = props.videosMP4.find(d => d.videoName === data[firstKey])\r\n\r\n            let videos = props.allVideos.slice()\r\n\r\n            videos.splice(\r\n                props.index + 1,\r\n                0,\r\n                video\r\n            )\r\n\r\n\r\n            videosAPI.addVideoEditor(gameNumber, videos)\r\n\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div style={{display: 'inline-flex'}}>\r\n            <Droppable\r\n                types={['video']}\r\n                onDrop={(e) => onDrop(e)}\r\n            >\r\n                <div className={width === 1920 ? c1920.video : c.video}\r\n                     style={props.videoEditor.editorData.duration !== 0\r\n                         ? {\r\n                             width: props.v.duration / props.scale,\r\n                             opacity: isDroppable && 1.0,\r\n                             backgroundColor: isDroppable && '#defff0'\r\n                         }\r\n                         : {display: \"none\"}}\r\n                     onMouseOver={(e) => setShowDeleteButton(true)}\r\n                     onMouseLeave={(e) => setShowDeleteButton(false)}>\r\n                    <div>\r\n                        {props.v.videoName.slice(0, 4)}\r\n                        {props.v.videoName.length > 4 && '.'}\r\n                    </div>\r\n\r\n                    {width === 1920\r\n                        ? <video src={props.v.videoURL} style={props.v.duration / props.scale < 200\r\n                            ? {width: props.v.duration / props.scale, margin: 'auto'}\r\n                            : {width: 200, margin: 'auto'}}/>\r\n                        : <video src={props.v.videoURL} style={props.v.duration / props.scale < 155\r\n                            ? {width: props.v.duration / props.scale, margin: 'auto'}\r\n                            : {width: 155, margin: 'auto'}}/>\r\n                    }\r\n\r\n                    {showDeleteButton\r\n                    && (props.index !== props.deletedN || props.timedif === 0)\r\n\r\n                        ? <div className={width === 1920 ? c1920.exitForm : c.exitForm}\r\n                               onClick={e => deleteVideoFromEditor(props.index)}>\r\n                            Удалить\r\n                        </div>\r\n                        :\r\n                        <div>\r\n\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Droppable>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(EditorLine);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './Editor.module.css'\r\nimport c1920 from './Editor_1920.module.css';\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport socket from \"../../../../socket/socket\";\r\nimport {Droppable} from 'react-drag-and-drop'\r\nimport {\r\n    getVideoEditor,\r\n    setCurrentVideoDataAC, setCurrentVideoEditorDataAC,\r\n    setVideosEditorAC\r\n} from \"../../../../redux/videos_reducer\";\r\nimport EditorLine from \"./EditorLine\";\r\nimport {setDifAC, setPingAC} from \"../../../../redux/dif_reducer\";\r\n\r\n\r\nconst Editor = (props) => {\r\n\r\n    let lag = +window.localStorage.getItem('lag')\r\n\r\n    let [tupit, setTupit] = useState(lag)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on(`setDeviceLag${socket.id}`, lag => {\r\n            setTupit(lag)\r\n        })\r\n    }, [])\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const dif = useSelector(\r\n        (state => state.difPage.dif)\r\n    );\r\n\r\n\r\n    let [isRunningServer, setIsRunningServer] = useState(false);\r\n\r\n\r\n    let [startTime, setStartTime] = useState();\r\n\r\n    let [timeDif, setTimeDif] = useState(0);\r\n    let [timeMem, setTimeMem] = useState(0);\r\n\r\n    const videosMP4 = useSelector(\r\n        (state => state.videosPage.videosMP4)\r\n    );\r\n\r\n    const currentVideoStream = useSelector(\r\n        (state => state.videosPage.currentVideoStream)\r\n    );\r\n\r\n    const videoEditor = useSelector(\r\n        (state => state.videosPage.videoEditor)\r\n    );\r\n\r\n    let n = videoEditor.currentVideo.n;\r\n\r\n    let deletedN = videoEditor.currentVideo.deletedN\r\n\r\n    let allVideos = videoEditor.videos;\r\n\r\n    let videos = allVideos.slice(deletedN, allVideos.length);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        videosAPI.getVideoTime(gameNumber, Date.now()).then(r => {\r\n            let serverPing = Math.round((Date.now() - r.dateClient) / 2);\r\n            let timeSyncServer = r.dateServer - r.dateClient\r\n\r\n\r\n            dispatch(setDifAC(timeSyncServer + serverPing + tupit))\r\n            dispatch(setPingAC(serverPing))\r\n\r\n            setIsRunningServer(r.timeData.isRunning);\r\n            return r\r\n        }).then(r => {\r\n            setStartTime(r.timeData.runningTime);\r\n            setTimeMem(r.timeData.timeMem);\r\n            setTimeDif(r.timeData.timeMem);\r\n        });\r\n\r\n        dispatch(getVideoEditor(gameNumber));\r\n\r\n\r\n        socket.on(`getVideoTime${gameNumber}`, time => {\r\n                setIsRunningServer(time.timeData.isRunning);\r\n                setStartTime(time.timeData.runningTime);\r\n                setTimeMem(time.timeData.timeMem);\r\n                setTimeDif(time.timeData.timeMem);\r\n            }\r\n        );\r\n\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n            let interval = setInterval(() => {\r\n                if (isRunningServer) {\r\n                    setTimeDif(timeMem + (Date.now() - startTime + dif));\r\n                }\r\n            }, 20);\r\n            return () => clearInterval(interval);\r\n        }\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(`getCurrentVideoEditor${gameNumber}`, currentVideo => {\r\n            dispatch(setCurrentVideoEditorDataAC(currentVideo));\r\n        });\r\n\r\n        socket.on(`getVideosEditor${gameNumber}`, videos => {\r\n            dispatch(setVideosEditorAC(videos));\r\n        });\r\n\r\n        socket.on(`getCurrentVideo`, currentVideo => {\r\n            dispatch(setCurrentVideoDataAC(currentVideo));\r\n        });\r\n\r\n\r\n    }, []);\r\n\r\n\r\n    let setCurrentVideo = (currentVideo) => {\r\n        videosAPI.putCurrentVideo(gameNumber, currentVideo, true)\r\n    };\r\n\r\n    let duration = videos.map(v => v.duration).reduce((sum, current) => sum + current, 0);\r\n\r\n    let totalDuration = videoEditor.editorData.duration;\r\n\r\n    let deletedDuration = allVideos.slice(0, deletedN).map(v => v.duration).reduce((sum, current) => sum + current, 0);\r\n\r\n\r\n    let scale = duration / (width === 1920 ? 1200 : 780);\r\n\r\n    let editorStyle = {\r\n        msWidth: (timeDif - deletedDuration) / scale\r\n    };\r\n\r\n\r\n    let currentDuration = totalDuration - timeDif;\r\n\r\n\r\n    let ms = currentDuration % 1000;\r\n    let seconds = Math.floor(currentDuration / 1000) % 60;\r\n    let minutes = Math.floor(currentDuration / (1000 * 60));\r\n\r\n\r\n    let duration0 = totalDuration - allVideos.slice(0, n).map(v => v.duration)\r\n        .reduce((sum, current) => sum + current, 0);\r\n\r\n    let duration1 = totalDuration - allVideos.slice(0, n + 1).map(v => v.duration)\r\n        .reduce((sum, current) => sum + current, 0);\r\n\r\n    let duration2 = totalDuration - allVideos.slice(0, n + 2).map(v => v.duration)\r\n        .reduce((sum, current) => sum + current, 0);\r\n\r\n\r\n    useEffect(() => {\r\n        if (totalDuration && timeDif >= totalDuration) {\r\n            setIsRunningServer(false);\r\n            videosAPI.putVideoTimeStatus(gameNumber, false,\r\n                0,\r\n                0);\r\n\r\n            videosAPI.clearEditorVideos(gameNumber, timeDif)\r\n            videosAPI.resetCurrentVideo();\r\n\r\n        }\r\n    }, [totalDuration && timeDif >= totalDuration]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if ((currentDuration < duration0 && duration1 < currentDuration)) {\r\n            //videoSTART\r\n            setCurrentVideo(allVideos[n])\r\n\r\n            videosAPI.putCurrentVideoEditor(gameNumber);\r\n\r\n            if (n > 0) {\r\n                videosAPI.deleteVideoFromEditor(gameNumber, 0, true)\r\n            }\r\n        }\r\n\r\n    }, [currentDuration < duration0, duration1 < currentDuration]);\r\n\r\n\r\n\r\n\r\n\r\n    const startVideo = () => {\r\n        videosAPI.putVideoTimeStatus(gameNumber, true, timeDif,\r\n            timeMem);\r\n    };\r\n\r\n\r\n    const stopVideo = () => {\r\n        videosAPI.putVideoTimeStatus(gameNumber, false, timeMem + ((Date.now() + dif) - startTime),\r\n            timeMem + ((Date.now() + dif) - startTime));\r\n    };\r\n\r\n\r\n    const clearVideo = () => {\r\n        videosAPI.clearEditorVideos(gameNumber, timeDif).then(r => {\r\n            if (r.resultCode === 0) {\r\n                if (timeDif !== 0) {\r\n                    setCurrentVideo(currentVideoStream)\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    const nextVideo = () => {\r\n        videosAPI.nextEditorVideos(gameNumber);\r\n    };\r\n\r\n\r\n    let onDrop = (data) => {\r\n\r\n        let key = Object.keys(data);\r\n\r\n        let firstKey = key[0];\r\n\r\n        let video = videosMP4.find(d => d.videoName === data[firstKey])\r\n\r\n        let videos = allVideos.slice()\r\n\r\n        videos.push(video)\r\n\r\n        videosAPI.addVideoEditor(gameNumber, videos)\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={c.editor}>\r\n            {/*{currentDuration} {duration0} {duration1} {duration2} {totalDuration} {n}*/}\r\n            <div className={width === 1920 ? c1920.title : c.title}>Редактор</div>\r\n            <div className={width === 1920 ? c1920.editorPlayer : c.editorPlayer}>\r\n                <div style={{display: 'inline-flex'}}>\r\n                    <div>\r\n                        <div style={{display: 'inline-flex'}}>\r\n                            {allVideos.map((v, index) => index >= deletedN && <EditorLine v={v} index={index}\r\n                                                                                          videoEditor={videoEditor}\r\n                                                                                          scale={scale}\r\n                                                                                          isRunningServer={isRunningServer}\r\n                                                                                          duration={duration}\r\n                                                                                          videos={videos}\r\n                                                                                          isMouseDownOverDrop={props.isMouseDownOverDrop}\r\n                                                                                          videosMP4={videosMP4}\r\n                                                                                          deletedN={deletedN}\r\n                                                                                          allVideos={allVideos}\r\n                                                                                          timedif={timeDif}\r\n\r\n                            />)}\r\n                            <div className={width === 1920 ? c1920.editorLine : c.editorLine}\r\n                                 style={currentDuration !== 0\r\n                                     ? {width: editorStyle.msWidth, height: (width === 1920 ? 200 : 140)}\r\n                                     : {display: \"none\"}}>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <Droppable\r\n                        types={['video']}\r\n                        onDrop={(e) => onDrop(e)}\r\n                    >\r\n                        {videos.length === 0 &&\r\n                        < div className={(width === 1920 ? c1920.droppableVideoFullWidth : c.droppableVideoFullWidth)} style={{\r\n                            backgroundColor: props.isMouseDownOverDrop && '#defff0',\r\n                            border: props.isMouseDownOverDrop && '2px solid'\r\n                        }}>\r\n                            Перетаскивать сюда из видеоматериалов\r\n                            </div>\r\n                        }\r\n                    </Droppable>\r\n\r\n\r\n                </div>\r\n                {videos.length !== 0 &&\r\n                <div className={width === 1920 ? c1920.playerButtons : c.playerButtons}>\r\n                    {isRunningServer\r\n                        ? <div style={{display: 'inline-flex'}}>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 style={{opacity: 0.5}}>\r\n                                Старт\r\n                            </div>\r\n\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => stopVideo()}>\r\n                                Стоп\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => clearVideo()}>\r\n                                Очистить\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => nextVideo()}>\r\n                                След. видео\r\n                            </div>\r\n                        </div>\r\n                        : <div style={{display: 'inline-flex'}}>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => startVideo()}>\r\n                                Старт\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 style={{opacity: 0.5}}>\r\n                                Стоп\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => clearVideo()}>\r\n                                Очистить\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 style={{opacity: 0.5}}>\r\n                                След. видео\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div className={c.playerTime}>\r\n                        {minutes}:{seconds}\r\n                    </div>\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Editor);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './VideoAdmin.module.css'\r\nimport TabloEdit from \"../AdminPanel/TabloEdit/TabloEdit\";\r\nimport Info from \"../AdminPanel/Info/Info\";\r\nimport {compose} from \"redux\";\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport Presets from \"./Presets/Presets\";\r\nimport Cameras from \"./Cameras/Cameras\";\r\nimport VideosMP4 from \"./Videos/VideosMP4\";\r\nimport Editor from \"./Editor/Editor\";\r\nimport {Droppable} from \"react-drag-and-drop\";\r\n\r\n\r\nconst VideoAdmin = (props) => {\r\n\r\n    let [isMouseDownOverDrop, setIsMouseDownOverDrop] = useState(false)\r\n\r\n\r\n    let onDrop = (data) => {\r\n        setIsMouseDownOverDrop(false)\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={c.videoAdmin}>\r\n            <Droppable\r\n                types={['video']}\r\n                onDrop={(e) => onDrop(e)}\r\n            >\r\n                <div className={c.videoAdmin__info}>\r\n                    <Info/>\r\n                </div>\r\n                <div className={c.videoAdmin__editor}>\r\n                    <div>\r\n                        <Editor isMouseDownOverDrop={isMouseDownOverDrop}/>\r\n                    </div>\r\n                    <div>\r\n                        <TabloEdit/>\r\n                    </div>\r\n                </div>\r\n                <div className={c.videoAdmin__presetsAndVideos}>\r\n                    <div>\r\n                        <VideosMP4 setIsMouseDownOverDrop={setIsMouseDownOverDrop}/>\r\n                    </div>\r\n                    <div>\r\n                        <Presets/>\r\n                    </div>\r\n                </div>\r\n                <div className={c.videoAdmin__camera}>\r\n                    <div>\r\n                        <Cameras/>\r\n                    </div>\r\n                </div>\r\n            </Droppable>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideoAdmin);\r\n"],"sourceRoot":""}