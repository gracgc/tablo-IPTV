{"version":3,"sources":["utils/validators.js","components/ForAdmin/VideoAdmin/Cameras/Cameras.module.css","components/ForAdmin/VideoAdmin/Cameras/Cameras_1920.module.css","components/ForAdmin/VideoAdmin/Videos/VideosMP4.module.css","components/ForAdmin/VideoAdmin/Videos/VideosMP4_1920.module.css","components/ForAdmin/VideoAdmin/Editor/Editor.module.css","components/ForAdmin/VideoAdmin/Editor/Editor_1920.module.css","components/ForAdmin/VideoAdmin/VideoAdmin.module.css","components/ForAdmin/VideoAdmin/Presets/Presets.module.css","components/ForAdmin/VideoAdmin/Presets/Presets_1920.module.css","components/ForAdmin/VideoAdmin/Presets/Presets.jsx","components/ForAdmin/VideoAdmin/Cameras/Camera.jsx","components/ForAdmin/VideoAdmin/Cameras/Cameras.jsx","components/ForAdmin/VideoAdmin/Videos/VideoMP4.jsx","components/ForAdmin/VideoAdmin/Videos/VideosMP4.jsx","components/ForAdmin/VideoAdmin/Editor/EditorLine.jsx","components/ForAdmin/VideoAdmin/Editor/Editor.jsx","components/ForAdmin/VideoAdmin/VideoAdmin.jsx","components/ForAdmin/VideoAdmin/Preload/VideoAdminPreload.jsx"],"names":["required","value","requiredShort","maxTime20","maxTime60","module","exports","compose","withRouter","props","width","window","innerWidth","gameNumber","match","params","dispatch","useDispatch","useEffect","socket","on","preset","setPresetAC","gameData","className","c1920","presets","c","title","name","map","p","style","background","color","onClick","e","gameAPI","putPreset","useState","showDeleteButton","setShowDeleteButton","position","onMouseOver","onMouseLeave","camera","border","currentVideoStream","videoURL","v","backgroundColor","setCurrentVideo","videoName","deleteVideo","index","videosAPI","paginatorForIndex","AddCameraReduxForm","reduxForm","form","addCameraForm","exitForm","setShowAddCameraForm","onSubmit","handleSubmit","cameraForm","Field","placeholder","validate","component","Input","addCameraButton","paginatorN","setPaginatorN","videos","setVideosDataAC","changePaginatorN","symbol","currentVideo","putCurrentVideo","showAddCameraForm","camerasBlock","display","addButton","length","paginator","opacity","cameras","slice","formData","undefined","addCameraURL","addVideo","addCameraName","reset","video","onMouseDown","setIsMouseDownOverDrop","onMouseUp","type","data","src","deleteVideoMP4","toString","AddVideoReduxForm","addVideoForm","setShowAddVideoForm","videoForm","Button","variant","accept","hidden","onChange","setVideoMP4","target","files","addVideoButton","videoMP4","marginLeft","fontSize","showAddVideoForm","setVideosMP4DataAC","videosMP4","sameName","find","videoFormData","FormData","append","axios","headers","uploadVideo","stopSubmit","isDroppable","isMouseDownOverDrop","types","onDrop","firstKey","Object","keys","d","allVideos","splice","addVideoEditor","videoEditor","editorData","duration","scale","margin","deletedN","timedif","deleteVideoFromEditor","lag","localStorage","getItem","tupit","setTupit","id","dif","useSelector","state","difPage","isRunningServer","setIsRunningServer","startTime","setStartTime","timeDif","setTimeDif","timeMem","setTimeMem","n","getVideoTime","Date","now","then","r","serverPing","Math","round","dateClient","timeSyncServer","dateServer","setDifAC","setPingAC","isRunning","runningTime","time","timeData","interval","setInterval","clearInterval","setCurrentVideoEditorDataAC","setVideosEditorAC","setCurrentVideoDataAC","reduce","sum","current","totalDuration","deletedDuration","editorStyle","msWidth","currentDuration","seconds","floor","minutes","duration0","duration1","putVideoTimeStatus","clearEditorVideos","resetCurrentVideo","putCurrentVideoEditor","clearVideo","resultCode","editor","editorPlayer","editorLine","height","push","droppableVideoFullWidth","playerButtons","playerButton","nextEditorVideos","playerTime","isSwitch","setIsSwitch","videoAdmin","videoAdmin__info","Info","videoAdmin__editor","TabloEdit","teams","videoAdmin__presetsAndVideos","videoAdmin__camera","videosPage","gamesPage","teamsPage","isFetchingGame","isFetching","isFetchingVideos","isFetchingTeams","getVideos","getVideosMP4","getCurrentVideo","getVideoEditor","getGame","getTeams","Loading"],"mappings":"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","file":"static/js/8.3d7de528.chunk.js","sourcesContent":["export const required = (value) => {\r\n    if (value) return undefined;\r\n    return \"Обязательное поле\";\r\n};\r\n\r\nexport const requiredShort = (value) => {\r\n    if (value) return undefined;\r\n    return \"!\";\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n\r\nexport const maxTime20 = (value) => {\r\n    if (value <= 20 && 0 <= value) return undefined;\r\n    return \"Только от 0 до 20\";\r\n};\r\n\r\nexport const maxTime60 = (value) => {\r\n    if (value < 60 && 0 <= value) return undefined;\r\n    return \"Только от 0 до 59\";\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"Cameras_camerasBlock__2pgVn\",\"title\":\"Cameras_title__1XGgT\",\"cameras\":\"Cameras_cameras__kIwtJ\",\"camera\":\"Cameras_camera__3oIX4\",\"currentCamera\":\"Cameras_currentCamera__24CcZ\",\"addButton\":\"Cameras_addButton__2I70h\",\"cameraForm\":\"Cameras_cameraForm__2gSXI\",\"addCameraButton\":\"Cameras_addCameraButton__2DJLz\",\"paginator\":\"Cameras_paginator__3_1l-\",\"addCameraForm\":\"Cameras_addCameraForm__zx6Yn\",\"exitForm\":\"Cameras_exitForm__JDmYW\",\"deleteVideo\":\"Cameras_deleteVideo__2kMh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"Cameras_1920_camerasBlock__1tccB\",\"title\":\"Cameras_1920_title__3O0Qy\",\"cameras\":\"Cameras_1920_cameras__2PIqd\",\"camera\":\"Cameras_1920_camera__1Gwon\",\"addButton\":\"Cameras_1920_addButton__CKaqz\",\"cameraForm\":\"Cameras_1920_cameraForm__1w_53\",\"addCameraButton\":\"Cameras_1920_addCameraButton__2VEf8\",\"paginator\":\"Cameras_1920_paginator__1gH1d\",\"addCameraForm\":\"Cameras_1920_addCameraForm__1yTXy\",\"exitForm\":\"Cameras_1920_exitForm__31CNh\",\"deleteVideo\":\"Cameras_1920_deleteVideo__3OuuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"VideosMP4_camerasBlock__330Vd\",\"title\":\"VideosMP4_title__2J-ne\",\"videos\":\"VideosMP4_videos__1ygh1\",\"video\":\"VideosMP4_video__1U21O\",\"paginator\":\"VideosMP4_paginator__EgiVl\",\"addButton\":\"VideosMP4_addButton__1LRCT\",\"videoForm\":\"VideosMP4_videoForm__2-Uf4\",\"addVideoButton\":\"VideosMP4_addVideoButton__34I3Y\",\"addVideoForm\":\"VideosMP4_addVideoForm__32ebl\",\"exitForm\":\"VideosMP4_exitForm__3WpAn\",\"deleteVideo\":\"VideosMP4_deleteVideo__1BxtS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camerasBlock\":\"VideosMP4_1920_camerasBlock__3GHzn\",\"title\":\"VideosMP4_1920_title__2DHvt\",\"videos\":\"VideosMP4_1920_videos__3VhAQ\",\"video\":\"VideosMP4_1920_video__2J1D0\",\"paginator\":\"VideosMP4_1920_paginator__1ckAf\",\"addButton\":\"VideosMP4_1920_addButton__eu81S\",\"videoForm\":\"VideosMP4_1920_videoForm__3DSQP\",\"addVideoButton\":\"VideosMP4_1920_addVideoButton__cNymj\",\"addVideoForm\":\"VideosMP4_1920_addVideoForm__jKKv-\",\"exitForm\":\"VideosMP4_1920_exitForm__2XHHN\",\"deleteVideo\":\"VideosMP4_1920_deleteVideo__2QhI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__HJ9wU\",\"title\":\"Editor_title__InMIf\",\"video\":\"Editor_video__4CSRM\",\"videoTag\":\"Editor_videoTag__2nRqN\",\"editorPlayer\":\"Editor_editorPlayer__25FRl\",\"editorLine\":\"Editor_editorLine__2wMP2\",\"droppableVideo\":\"Editor_droppableVideo__2ZDWH\",\"droppableVideoFullWidth\":\"Editor_droppableVideoFullWidth__2Cb_A\",\"playerButton\":\"Editor_playerButton__3MvU5\",\"playerTime\":\"Editor_playerTime__3nRXz\",\"playerButtons\":\"Editor_playerButtons__2G7Ig\",\"exitForm\":\"Editor_exitForm__PvNKf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_1920_editor__qJp_a\",\"title\":\"Editor_1920_title__1Ocit\",\"video\":\"Editor_1920_video__2Q_Lc\",\"videoTag\":\"Editor_1920_videoTag__2idbJ\",\"editorPlayer\":\"Editor_1920_editorPlayer__2e4oY\",\"editorLine\":\"Editor_1920_editorLine__1UviJ\",\"droppableVideo\":\"Editor_1920_droppableVideo__ss-Wg\",\"droppableVideoFullWidth\":\"Editor_1920_droppableVideoFullWidth__LFSKB\",\"playerButton\":\"Editor_1920_playerButton__2vR0e\",\"playerTime\":\"Editor_1920_playerTime___1QHB\",\"playerButtons\":\"Editor_1920_playerButtons__2B49Q\",\"exitForm\":\"Editor_1920_exitForm__3CMj_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoAdmin\":\"VideoAdmin_videoAdmin__1ylGD\",\"videoAdmin__info\":\"VideoAdmin_videoAdmin__info__3w85C\",\"videoAdmin__editor\":\"VideoAdmin_videoAdmin__editor__2A9Hh\",\"videoAdmin__camera\":\"VideoAdmin_videoAdmin__camera__kyl1B\",\"videoAdmin__presetsAndVideos\":\"VideoAdmin_videoAdmin__presetsAndVideos__2-JFf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"presets\":\"Presets_presets__DP0U1\",\"title\":\"Presets_title__37s0A\",\"preset\":\"Presets_preset__3NYsX\",\"currentPreset\":\"Presets_currentPreset__1DTHe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"presets\":\"Presets_1920_presets__2JMFp\",\"title\":\"Presets_1920_title__3D0d7\",\"preset\":\"Presets_1920_preset__1xRdH\"};","import React, {useEffect} from 'react'\r\nimport c from './Presets.module.css'\r\nimport c1920 from './Presets_1920.module.css';\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {gameAPI} from \"../../../../api/api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getGame, setPresetAC} from \"../../../../redux/games_reducer\";\r\nimport socket from \"../../../../socket/socket\";\r\n\r\n\r\nconst Presets = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(`getPreset${gameNumber}`, preset => {\r\n            dispatch(setPresetAC(preset))\r\n        });\r\n\r\n    }, [])\r\n\r\n    let preset = props.gameData.preset\r\n\r\n    let presets = [\r\n        {preset: 1, name: 'Только табло'},\r\n        {preset: 2, name: 'Табло и видео'},\r\n        {preset: 3, name: 'Только видео'},\r\n        {preset: 4, name: 'Заглушка'},\r\n        {preset: 5, name: 'Игроки 1'},\r\n        {preset: 6, name: 'Игроки 2'},\r\n        // {preset: 7, name: 'Сводка матча'},\r\n    ]\r\n\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.presets : c.presets}>\r\n            <div className={width === 1920 ? c1920.title : c.title}>Пресеты</div>\r\n            {presets.map(p => <div className={width === 1920 ? c1920.preset : c.preset} style={{\r\n                background: p.preset === preset && '#435373',\r\n                color: p.preset === preset && '#a4e2ed'\r\n            }}\r\n                                   onClick={(e) => {\r\n                                       gameAPI.putPreset(gameNumber, p.preset)\r\n                                   }}>\r\n                {p.name}\r\n            </div>)}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Presets);","import React, {useEffect, useState} from 'react'\r\nimport c from './Cameras.module.css'\r\nimport c1920 from './Cameras_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\n\r\n\r\nconst Camera = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    let deleteVideoFromList = (index) => {\r\n        videosAPI.deleteVideo(index + props.paginatorForIndex)\r\n    };\r\n\r\n\r\n    return (\r\n        <div style={{position: 'relative'}}\r\n             onMouseOver={(e) => setShowDeleteButton(true)}\r\n             onMouseLeave={(e) => setShowDeleteButton(false)}>\r\n            <div className={width === 1920 ? c1920.camera : c.camera}\r\n                 style={{border: props.currentVideoStream.videoURL === props.v.videoURL && 'forestgreen 4px solid',\r\n                     backgroundColor: props.currentVideoStream.videoURL === props.v.videoURL     && 'darkcyan'}}\r\n                 onClick={(e) => props.setCurrentVideo(props.v)}>\r\n                <div>\r\n                    {/*<ReactHlsPlayer*/}\r\n                    {/*    url={props.v.videoURL}*/}\r\n                    {/*    autoplay={false}*/}\r\n                    {/*    muted={true}*/}\r\n                    {/*    controls={false}*/}\r\n                    {/*    width={170}*/}\r\n                    {/*/>*/}\r\n                </div>\r\n\r\n                <div>\r\n                    {props.v.videoName}\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            {showDeleteButton && props.currentVideoStream.videoURL !== props.v.videoURL &&\r\n            <div className={width === 1920 ? c1920.deleteVideo : c.deleteVideo} onClick={e => deleteVideoFromList(props.index)}>\r\n                ✘\r\n            </div>\r\n            }\r\n        </div>\r\n\r\n\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Camera);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './Cameras.module.css'\r\nimport c1920 from './Cameras_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setPresetAC} from \"../../../../redux/games_reducer\";\r\nimport socket from \"../../../../socket/socket\";\r\nimport {getVideos, setVideosDataAC} from \"../../../../redux/videos_reducer\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {Input} from \"../../../../common/FormsControls/FormsControls\";\r\nimport {requiredShort} from \"../../../../utils/validators\";\r\nimport ReactHlsPlayer from \"react-hls-player\";\r\nimport Camera from \"./Camera\";\r\n\r\n\r\nconst AddCamera = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.addCameraForm : c.addCameraForm}>\r\n            <div className={width === 1920 ? c1920.exitForm : c.exitForm} onClick={e => props.setShowAddCameraForm(false)}>\r\n                ✘\r\n            </div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div className={width === 1920 ? c1920.cameraForm : c.cameraForm}>\r\n                    <Field placeholder={'Название потока'} name={'addCameraName'}\r\n                           validate={[requiredShort]}\r\n                           component={Input}/>\r\n                    <Field placeholder={'URL потока'} name={'addCameraURL'}\r\n                           validate={[requiredShort]}\r\n                           component={Input}/>\r\n                    <button className={width === 1920 ? c1920.addCameraButton : c.addCameraButton}>\r\n                        Добавить\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddCameraReduxForm = reduxForm({form: 'addCamera'})(AddCamera);\r\n\r\nconst Cameras = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [paginatorN, setPaginatorN] = useState(0);\r\n\r\n    const paginatorScale = 4;\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(`getPreset${gameNumber}`, preset => {\r\n            dispatch(setPresetAC(preset))\r\n        });\r\n\r\n\r\n        socket.on(`getVideos`, videos => {\r\n                dispatch(setVideosDataAC(videos))\r\n            }\r\n        );\r\n\r\n\r\n    }, []);\r\n\r\n    let changePaginatorN = (symbol) => {\r\n        if (symbol === '+')\r\n            setPaginatorN(paginatorN + 1);\r\n        if (symbol === '-') {\r\n            setPaginatorN(paginatorN - 1)\r\n        }\r\n    };\r\n\r\n    let setCurrentVideo = (currentVideo) => {\r\n        videosAPI.putCurrentVideo(gameNumber, currentVideo, false);\r\n    };\r\n\r\n    const onSubmit = (formData) => {\r\n        if (formData.addCameraURL !== undefined) {\r\n            videosAPI.addVideo(\r\n                formData.addCameraName,\r\n                formData.addCameraURL\r\n            );\r\n            dispatch(reset('addCamera'));\r\n            setShowAddCameraForm(false)\r\n        }\r\n    };\r\n\r\n    const [showAddCameraForm, setShowAddCameraForm] = useState(false);\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.camerasBlock : c.camerasBlock}>\r\n            <div className={width === 1920 ? c1920.title : c.title}>Камеры</div>\r\n            <div style={{display: 'inline-flex'}}>\r\n                <div className={width === 1920 ? c1920.addButton : c.addButton} onClick={e => setShowAddCameraForm(true)}>\r\n                    +\r\n                </div>\r\n                {props.videos.length !== 0 && <div style={{display: 'inline-flex'}}>\r\n                    {paginatorN > 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('-')\r\n                        }}>\r\n                            ←\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            ←\r\n                        </div>\r\n                    }\r\n                    <div className={width === 1920 ? c1920.cameras : c.cameras}>\r\n                        {props.videos.slice(paginatorScale * paginatorN, paginatorScale + paginatorScale * paginatorN)\r\n                            .map((v, index) =>\r\n                                <Camera v={v} index={index} paginatorForIndex={paginatorN * paginatorScale} currentVideoStream={props.currentVideoStream} setCurrentVideo={setCurrentVideo}/>\r\n                            )}\r\n                    </div>\r\n                    {props.videos.slice(paginatorScale * (paginatorN + 1), paginatorScale + paginatorScale * (paginatorN + 1)).length !== 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('+')\r\n                        }}>\r\n                            →\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            →\r\n                        </div>}\r\n                </div>}\r\n\r\n            </div>\r\n\r\n            {showAddCameraForm && <AddCameraReduxForm onSubmit={onSubmit} setShowAddCameraForm={setShowAddCameraForm}/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Cameras);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './VideosMP4.module.css'\r\nimport c1920 from './VideosMP4_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Draggable} from \"react-drag-and-drop\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\n\r\n\r\nconst VideoMP4 = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    let deleteVideoFromList = (index, videoName) => {\r\n        videosAPI.deleteVideoMP4(index + props.paginatorForIndex, videoName.toString())\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <div className={width === 1920 ? c1920.video : c.video}\r\n             onMouseOver={(e) => setShowDeleteButton(true)}\r\n             onMouseLeave={(e) => setShowDeleteButton(false)}>\r\n            <div onMouseDown={e => props.setIsMouseDownOverDrop(true)}\r\n                 onMouseUp={e => props.setIsMouseDownOverDrop(false)}>\r\n                <Draggable type=\"video\" data={props.v.videoName}>\r\n                    <video src={props.v.videoURL} width={width === 1920 ? 240 : 170}></video>\r\n                </Draggable>\r\n            </div>\r\n\r\n            <div>\r\n                {props.v.videoName}\r\n            </div>\r\n\r\n            {showDeleteButton &&\r\n            <div className={width === 1920 ? c1920.deleteVideo : c.deleteVideo} onClick={e => deleteVideoFromList(props.index, props.v.videoName)}>\r\n                ✘\r\n            </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideoMP4);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './VideosMP4.module.css'\r\nimport c1920 from './VideosMP4_1920.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport socket from \"../../../../socket/socket\";\r\nimport {\r\n    getVideosMP4,\r\n    setVideosMP4DataAC\r\n} from \"../../../../redux/videos_reducer\";\r\nimport {Field, reduxForm, reset, stopSubmit} from \"redux-form\";\r\nimport {Input} from \"../../../../common/FormsControls/FormsControls\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as axios from \"axios\";\r\nimport {maxTime60, requiredShort} from \"../../../../utils/validators\";\r\nimport VideoMP4 from \"./VideoMP4\";\r\n\r\n\r\nconst AddVideoMP4 = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n\r\n    return (\r\n\r\n        <div className={width === 1920 ? c1920.addVideoForm : c.addVideoForm}>\r\n            <div className={width === 1920 ? c1920.exitForm : c.exitForm}\r\n                 onClick={e => props.setShowAddVideoForm(false)}>\r\n                ✘\r\n            </div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div className={width === 1920 ? c1920.videoForm : c.videoForm}>\r\n                    <Field placeholder={'Название видео'} name={'videoName'}\r\n                           validate={[requiredShort]}\r\n                           component={Input}/>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        component=\"label\"\r\n                    >\r\n                        Загрузить видео\r\n                        <input\r\n                            name=\"videoMP4\"\r\n                            type=\"file\"\r\n                            accept=\".mp4\"\r\n                            hidden\r\n                            onChange={(e) => props.setVideoMP4(e.target.files[0])}\r\n                        />\r\n                    </Button>\r\n                </div>\r\n                <button className={width === 1920 ? c1920.addVideoButton : c.addVideoButton}>\r\n                    Добавить\r\n                </button>\r\n                {!props.videoMP4 ? <span style={{marginLeft: 10, color: 'red', fontSize: 20}}>Видео не загружено</span>\r\n                    : <span style={{marginLeft: 10, color: 'green', fontSize: 20}}>Видео загружено</span>}\r\n            </form>\r\n        </div>\r\n\r\n\r\n    )\r\n};\r\n\r\nconst AddVideoReduxForm = reduxForm({form: 'addVideo'})(AddVideoMP4);\r\n\r\nconst VideosMP4 = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [paginatorN, setPaginatorN] = useState(0);\r\n\r\n    const paginatorScale = 4;\r\n\r\n\r\n    let [videoMP4, setVideoMP4] = useState();\r\n\r\n    const [showAddVideoForm, setShowAddVideoForm] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(`getVideosMP4`, videos => {\r\n            dispatch(setVideosMP4DataAC(videos));\r\n        });\r\n\r\n    }, []);\r\n\r\n\r\n    let uploadVideo = (videoName) => {\r\n\r\n        let videoFormData = new FormData;\r\n\r\n        videoFormData.append('file', videoMP4);\r\n\r\n\r\n        axios.post(`/api/videos/mp4/${videoName}`, videoFormData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n\r\n    };\r\n\r\n    let changePaginatorN = (symbol) => {\r\n        if (symbol === '+')\r\n            setPaginatorN(paginatorN + 1);\r\n        if (symbol === '-') {\r\n            setPaginatorN(paginatorN - 1)\r\n        }\r\n    };\r\n\r\n    const onSubmit = (formData) => {\r\n        let sameName = props.videosMP4.find(v => v.videoName === formData.videoName)\r\n        if (videoMP4 && !sameName) {\r\n            uploadVideo(formData.videoName);\r\n            dispatch(reset('addVideo'));\r\n            setShowAddVideoForm(false)\r\n        } else {\r\n            dispatch(stopSubmit('addVideo', {videoName: 'Такое название уже есть'}))\r\n        }\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={width === 1920 ? c1920.camerasBlock : c.camerasBlock}>\r\n            <div className={width === 1920 ? c1920.title : c.title}>Видеоматериалы</div>\r\n            <div style={{display: 'inline-flex'}}>\r\n                <div className={width === 1920 ? c1920.addButton : c.addButton}\r\n                     onClick={e => setShowAddVideoForm(true)}>\r\n                    +\r\n                </div>\r\n                {props.videosMP4.length !== 0 && <div style={{display: 'inline-flex'}}>\r\n                    {paginatorN > 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('-')\r\n                        }}>\r\n                            ←\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            ←\r\n                        </div>\r\n                    }\r\n                    <div className={width === 1920 ? c1920.videos : c.videos}>\r\n                        {props.videosMP4.slice(paginatorScale * paginatorN, paginatorScale + paginatorScale * paginatorN)\r\n                            .map((v, index) =>\r\n                                <VideoMP4 v={v} index={index} setIsMouseDownOverDrop={props.setIsMouseDownOverDrop}\r\n                                          paginatorForIndex={paginatorN * paginatorScale}/>\r\n                            )}\r\n                    </div>\r\n                    {props.videosMP4.slice(paginatorScale * (paginatorN + 1), paginatorScale + paginatorScale * (paginatorN + 1)).length !== 0 ?\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} onClick={(e) => {\r\n                            changePaginatorN('+')\r\n                        }}>\r\n                            →\r\n                        </div> :\r\n                        <div className={width === 1920 ? c1920.paginator : c.paginator} style={{opacity: '0.5'}}>\r\n                            →\r\n                        </div>}\r\n                </div>}\r\n            </div>\r\n            {showAddVideoForm && <AddVideoReduxForm onSubmit={onSubmit} setShowAddVideoForm={setShowAddVideoForm}\r\n                                                    videoMP4={videoMP4} setVideoMP4={setVideoMP4} videosMP4={props.videosMP4}/>}\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideosMP4);","import React, {useState} from 'react'\r\nimport c from './Editor.module.css'\r\nimport c1920 from './Editor_1920.module.css';\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\nimport {Droppable} from 'react-drag-and-drop'\r\n\r\n\r\nconst EditorLine = (props) => {\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n\r\n    const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n\r\n    let deleteVideoFromEditor = (index) => {\r\n        videosAPI.deleteVideoFromEditor(gameNumber, index, false)\r\n    };\r\n\r\n    let isDroppable = props.isMouseDownOverDrop\r\n\r\n    let onDrop = (data) => {\r\n\r\n        if (isDroppable) {\r\n\r\n            let key = Object.keys(data);\r\n\r\n            let firstKey = key[0];\r\n\r\n            let video = props.videosMP4.find(d => d.videoName === data[firstKey])\r\n\r\n            let videos = props.allVideos.slice()\r\n\r\n            videos.splice(\r\n                props.index + 1,\r\n                0,\r\n                video\r\n            )\r\n\r\n\r\n            videosAPI.addVideoEditor(gameNumber, videos)\r\n\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div style={{display: 'inline-flex'}}>\r\n            <Droppable\r\n                types={['video']}\r\n                onDrop={(e) => onDrop(e)}\r\n            >\r\n                <div className={width === 1920 ? c1920.video : c.video}\r\n                     style={props.videoEditor.editorData.duration !== 0\r\n                         ? {\r\n                             width: props.v.duration / props.scale,\r\n                             opacity: isDroppable && 1.0,\r\n                             backgroundColor: isDroppable && '#defff0'\r\n                         }\r\n                         : {display: \"none\"}}\r\n                     onMouseOver={(e) => setShowDeleteButton(true)}\r\n                     onMouseLeave={(e) => setShowDeleteButton(false)}>\r\n                    <div>\r\n                        {props.v.videoName.slice(0, 4)}\r\n                        {props.v.videoName.length > 4 && '.'}\r\n                    </div>\r\n\r\n                    {width === 1920\r\n                        ? <video src={props.v.videoURL} style={props.v.duration / props.scale < 200\r\n                            ? {width: props.v.duration / props.scale, margin: 'auto'}\r\n                            : {width: 200, margin: 'auto'}}/>\r\n                        : <video src={props.v.videoURL} style={props.v.duration / props.scale < 155\r\n                            ? {width: props.v.duration / props.scale, margin: 'auto'}\r\n                            : {width: 155, margin: 'auto'}}/>\r\n                    }\r\n\r\n                    {showDeleteButton\r\n                    && (props.index !== props.deletedN || props.timedif === 0)\r\n\r\n                        ? <div className={width === 1920 ? c1920.exitForm : c.exitForm}\r\n                               onClick={e => deleteVideoFromEditor(props.index)}>\r\n                            Удалить\r\n                        </div>\r\n                        :\r\n                        <div>\r\n\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Droppable>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(EditorLine);\r\n","import React, {useEffect, useState} from 'react'\r\nimport c from './Editor.module.css'\r\nimport c1920 from './Editor_1920.module.css';\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {videosAPI} from \"../../../../api/api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport socket from \"../../../../socket/socket\";\r\nimport {Droppable} from 'react-drag-and-drop'\r\nimport {\r\n    getVideoEditor,\r\n    setCurrentVideoDataAC, setCurrentVideoEditorDataAC,\r\n    setVideosEditorAC\r\n} from \"../../../../redux/videos_reducer\";\r\nimport EditorLine from \"./EditorLine\";\r\nimport {setDifAC, setPingAC} from \"../../../../redux/dif_reducer\";\r\n\r\n\r\nconst Editor = (props) => {\r\n\r\n    let lag = +window.localStorage.getItem('lag')\r\n\r\n    let [tupit, setTupit] = useState(lag)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on(`setDeviceLag${socket.id}`, lag => {\r\n            setTupit(lag)\r\n        })\r\n    }, [])\r\n\r\n    let width = window.innerWidth;\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const dif = useSelector(\r\n        (state => state.difPage.dif)\r\n    );\r\n\r\n\r\n    let [isRunningServer, setIsRunningServer] = useState(false);\r\n\r\n\r\n    let [startTime, setStartTime] = useState();\r\n\r\n    let [timeDif, setTimeDif] = useState(0);\r\n    let [timeMem, setTimeMem] = useState(0);\r\n\r\n\r\n    let n = props.videoEditor.currentVideo.n;\r\n\r\n    let deletedN = props.videoEditor.currentVideo.deletedN\r\n\r\n    let allVideos = props.videoEditor.videos;\r\n\r\n    let videos = allVideos.slice(deletedN, allVideos.length);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        videosAPI.getVideoTime(gameNumber, Date.now()).then(r => {\r\n            let serverPing = Math.round((Date.now() - r.dateClient) / 2);\r\n            let timeSyncServer = r.dateServer - r.dateClient\r\n\r\n\r\n            dispatch(setDifAC(timeSyncServer + serverPing + tupit))\r\n            dispatch(setPingAC(serverPing))\r\n\r\n            setIsRunningServer(r.isRunning);\r\n            return r\r\n        }).then(r => {\r\n            setStartTime(r.runningTime);\r\n            setTimeMem(r.timeMem);\r\n            setTimeDif(r.timeMem);\r\n        });\r\n\r\n\r\n        socket.on(`getVideoTime${gameNumber}`, time => {\r\n                setIsRunningServer(time.timeData.isRunning);\r\n                setStartTime(time.timeData.runningTime);\r\n                setTimeMem(time.timeData.timeMem);\r\n                setTimeDif(time.timeData.timeMem);\r\n            }\r\n        );\r\n\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n            let interval = setInterval(() => {\r\n                if (isRunningServer) {\r\n                    setTimeDif(timeMem + (Date.now() - startTime + dif));\r\n                }\r\n            }, 20);\r\n            return () => clearInterval(interval);\r\n        }\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(`getCurrentVideoEditor${gameNumber}`, currentVideo => {\r\n            dispatch(setCurrentVideoEditorDataAC(currentVideo));\r\n        });\r\n\r\n        socket.on(`getVideosEditor${gameNumber}`, videos => {\r\n            dispatch(setVideosEditorAC(videos));\r\n        });\r\n\r\n        socket.on(`getCurrentVideo`, currentVideo => {\r\n            dispatch(setCurrentVideoDataAC(currentVideo));\r\n        });\r\n\r\n\r\n    }, []);\r\n\r\n\r\n    let setCurrentVideo = (currentVideo) => {\r\n        videosAPI.putCurrentVideo(gameNumber, currentVideo, true)\r\n    };\r\n\r\n    let duration = videos.map(v => v.duration).reduce((sum, current) => sum + current, 0);\r\n\r\n    let totalDuration = props.videoEditor.editorData.duration;\r\n\r\n    let deletedDuration = allVideos.slice(0, deletedN).map(v => v.duration).reduce((sum, current) => sum + current, 0);\r\n\r\n\r\n    let scale = duration / (width === 1920 ? 1200 : 780);\r\n\r\n    let editorStyle = {\r\n        msWidth: (timeDif - deletedDuration) / scale\r\n    };\r\n\r\n\r\n    let currentDuration = totalDuration - timeDif;\r\n\r\n\r\n    let ms = currentDuration % 1000;\r\n    let seconds = Math.floor(currentDuration / 1000) % 60;\r\n    let minutes = Math.floor(currentDuration / (1000 * 60));\r\n\r\n\r\n    let duration0 = totalDuration - allVideos.slice(0, n).map(v => v.duration)\r\n        .reduce((sum, current) => sum + current, 0);\r\n\r\n    let duration1 = totalDuration - allVideos.slice(0, n + 1).map(v => v.duration)\r\n        .reduce((sum, current) => sum + current, 0);\r\n\r\n    let duration2 = totalDuration - allVideos.slice(0, n + 2).map(v => v.duration)\r\n        .reduce((sum, current) => sum + current, 0);\r\n\r\n\r\n    useEffect(() => {\r\n        if (totalDuration && timeDif >= totalDuration) {\r\n            setIsRunningServer(false);\r\n            videosAPI.putVideoTimeStatus(gameNumber, false,\r\n                0,\r\n                0);\r\n\r\n            videosAPI.clearEditorVideos(gameNumber, timeDif)\r\n            videosAPI.resetCurrentVideo();\r\n\r\n        }\r\n    }, [totalDuration && timeDif >= totalDuration]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if ((currentDuration < duration0 && duration1 < currentDuration)) {\r\n            //videoSTART\r\n            setCurrentVideo(allVideos[n])\r\n\r\n            videosAPI.putCurrentVideoEditor(gameNumber);\r\n\r\n            if (n > 0) {\r\n                videosAPI.deleteVideoFromEditor(gameNumber, 0, true)\r\n            }\r\n        }\r\n\r\n    }, [currentDuration < duration0, duration1 < currentDuration]);\r\n\r\n\r\n\r\n\r\n\r\n    const startVideo = () => {\r\n        videosAPI.putVideoTimeStatus(gameNumber, true, timeDif,\r\n            timeMem);\r\n    };\r\n\r\n\r\n    const stopVideo = () => {\r\n        videosAPI.putVideoTimeStatus(gameNumber, false, timeMem + ((Date.now() + dif) - startTime),\r\n            timeMem + ((Date.now() + dif) - startTime));\r\n    };\r\n\r\n\r\n    const clearVideo = () => {\r\n        videosAPI.clearEditorVideos(gameNumber, timeDif).then(r => {\r\n            if (r.resultCode === 0) {\r\n                if (timeDif !== 0) {\r\n                    setCurrentVideo(props.currentVideoStream)\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    const nextVideo = () => {\r\n        videosAPI.nextEditorVideos(gameNumber);\r\n    };\r\n\r\n\r\n    let onDrop = (data) => {\r\n\r\n        let key = Object.keys(data);\r\n\r\n        let firstKey = key[0];\r\n\r\n        let video = props.videosMP4.find(d => d.videoName === data[firstKey])\r\n\r\n        let videos = allVideos.slice()\r\n\r\n        videos.push(video)\r\n\r\n        videosAPI.addVideoEditor(gameNumber, videos)\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={c.editor}>\r\n            {/*{currentDuration} {duration0} {duration1} {duration2} {totalDuration} {n}*/}\r\n            <div className={width === 1920 ? c1920.title : c.title}>Редактор</div>\r\n            <div className={width === 1920 ? c1920.editorPlayer : c.editorPlayer}>\r\n                <div style={{display: 'inline-flex'}}>\r\n                    <div>\r\n                        <div style={{display: 'inline-flex'}}>\r\n                            {allVideos.map((v, index) => index >= deletedN && <EditorLine v={v} index={index}\r\n                                                                                          videoEditor={props.videoEditor}\r\n                                                                                          scale={scale}\r\n                                                                                          isRunningServer={isRunningServer}\r\n                                                                                          duration={duration}\r\n                                                                                          videos={videos}\r\n                                                                                          isMouseDownOverDrop={props.isMouseDownOverDrop}\r\n                                                                                          videosMP4={props.videosMP4}\r\n                                                                                          deletedN={deletedN}\r\n                                                                                          allVideos={allVideos}\r\n                                                                                          timedif={timeDif}\r\n\r\n                            />)}\r\n                            <div className={width === 1920 ? c1920.editorLine : c.editorLine}\r\n                                 style={currentDuration !== 0\r\n                                     ? {width: editorStyle.msWidth, height: (width === 1920 ? 200 : 140)}\r\n                                     : {display: \"none\"}}>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <Droppable\r\n                        types={['video']}\r\n                        onDrop={(e) => onDrop(e)}\r\n                    >\r\n                        {videos.length === 0 &&\r\n                        < div className={(width === 1920 ? c1920.droppableVideoFullWidth : c.droppableVideoFullWidth)} style={{\r\n                            backgroundColor: props.isMouseDownOverDrop && '#defff0',\r\n                            border: props.isMouseDownOverDrop && '2px solid'\r\n                        }}>\r\n                            Перетаскивать сюда из видеоматериалов\r\n                            </div>\r\n                        }\r\n                    </Droppable>\r\n\r\n\r\n                </div>\r\n                {videos.length !== 0 &&\r\n                <div className={width === 1920 ? c1920.playerButtons : c.playerButtons}>\r\n                    {isRunningServer\r\n                        ? <div style={{display: 'inline-flex'}}>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 style={{opacity: 0.5}}>\r\n                                Старт\r\n                            </div>\r\n\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => stopVideo()}>\r\n                                Стоп\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => clearVideo()}>\r\n                                Очистить\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => nextVideo()}>\r\n                                След. видео\r\n                            </div>\r\n                        </div>\r\n                        : <div style={{display: 'inline-flex'}}>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => startVideo()}>\r\n                                Старт\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 style={{opacity: 0.5}}>\r\n                                Стоп\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 onClick={(e) => clearVideo()}>\r\n                                Очистить\r\n                            </div>\r\n                            <div className={width === 1920 ? c1920.playerButton : c.playerButton}\r\n                                 style={{opacity: 0.5}}>\r\n                                След. видео\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div className={c.playerTime}>\r\n                        {minutes}:{seconds}\r\n                    </div>\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(Editor);\r\n","import React, {useState} from 'react'\r\nimport c from './VideoAdmin.module.css'\r\nimport TabloEdit from \"../AdminPanel/TabloEdit/TabloEdit\";\r\nimport Info from \"../AdminPanel/Info/Info\";\r\nimport {compose} from \"redux\";\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport Presets from \"./Presets/Presets\";\r\nimport Cameras from \"./Cameras/Cameras\";\r\nimport VideosMP4 from \"./Videos/VideosMP4\";\r\nimport Editor from \"./Editor/Editor\";\r\nimport {Droppable} from \"react-drag-and-drop\";\r\n\r\n\r\nconst VideoAdmin = (props) => {\r\n\r\n    let [isMouseDownOverDrop, setIsMouseDownOverDrop] = useState(false)\r\n\r\n    let [isSwitch, setIsSwitch] = useState(false)\r\n\r\n\r\n    let onDrop = (data) => {\r\n        setIsMouseDownOverDrop(false)\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={c.videoAdmin}>\r\n            <Droppable\r\n                types={['video']}\r\n                onDrop={(e) => onDrop(e)}\r\n            >\r\n                <div className={c.videoAdmin__info}>\r\n                    <Info gameData={props.gameData}/>\r\n                </div>\r\n                <div className={c.videoAdmin__editor}>\r\n                    <div>\r\n                        <Editor isMouseDownOverDrop={isMouseDownOverDrop} videoEditor={props.videoEditor}\r\n                                videosMP4={props.videosMP4} currentVideoStream={props.currentVideoStream}/>\r\n                    </div>\r\n                    <div>\r\n                        <TabloEdit isSwitch={isSwitch} setIsSwitch={setIsSwitch} teams={props.teams}/>\r\n                    </div>\r\n                </div>\r\n                <div className={c.videoAdmin__presetsAndVideos}>\r\n                    <div>\r\n                        <VideosMP4 setIsMouseDownOverDrop={setIsMouseDownOverDrop} videosMP4={props.videosMP4}/>\r\n                    </div>\r\n                    <div>\r\n                        <Presets gameData={props.gameData}/>\r\n                    </div>\r\n                </div>\r\n                <div className={c.videoAdmin__camera}>\r\n                    <div>\r\n                        <Cameras videos={props.videos} currentVideoStream={props.currentVideoStream}/>\r\n                    </div>\r\n                </div>\r\n            </Droppable>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideoAdmin);\r\n","import React, {useEffect} from 'react'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport VideoAdmin from \"../VideoAdmin\";\r\nimport {getCurrentVideo, getVideoEditor, getVideos, getVideosMP4} from \"../../../../redux/videos_reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getGame} from \"../../../../redux/games_reducer\";\r\nimport Loading from \"../../../Loading/Loading\";\r\nimport {getTeams} from \"../../../../redux/teams_reducer\";\r\n\r\n\r\n\r\nconst VideoAdminPreload = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    let gameNumber = props.match.params.gameNumber;\r\n\r\n\r\n    let videos = useSelector(\r\n        (state => state.videosPage.videos)\r\n    );\r\n\r\n    const videosMP4 = useSelector(\r\n        (state => state.videosPage.videosMP4)\r\n    );\r\n\r\n    const currentVideoStream = useSelector(\r\n        (state => state.videosPage.currentVideoStream)\r\n    );\r\n\r\n    const videoEditor = useSelector(\r\n        (state => state.videosPage.videoEditor)\r\n    );\r\n\r\n\r\n    const gameData = useSelector(\r\n        state => state.gamesPage.gameData\r\n    );\r\n\r\n    const teams = useSelector(\r\n        state => state.teamsPage.teams\r\n    );\r\n\r\n    const isFetchingGame = useSelector(\r\n        state => state.gamesPage.isFetching\r\n    );\r\n\r\n    const isFetchingVideos = useSelector(\r\n        state => state.videosPage.isFetching\r\n    );\r\n\r\n    const isFetchingTeams = useSelector(\r\n        state => state.teamsPage.isFetching\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getVideos());\r\n        dispatch(getVideosMP4());\r\n        dispatch(getCurrentVideo());\r\n        dispatch(getVideoEditor(gameNumber));\r\n        dispatch(getGame(gameNumber));\r\n        dispatch(getTeams(gameNumber));\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {(isFetchingGame !== 0 || isFetchingVideos !== 0 || isFetchingTeams !== 0)\r\n                ? <Loading/>\r\n                : videosMP4 && gameData && teams && <VideoAdmin videos={videos} videosMP4={videosMP4}\r\n                                                   currentVideoStream={currentVideoStream}\r\n                                                   videoEditor={videoEditor} gameData={gameData} teams={teams}/>\r\n            }\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose(withRouter)(VideoAdminPreload);\r\n"],"sourceRoot":""}